{"version":3,"sources":["../src/internal/wrap-start.js","../src/internal/b.js","../src/lib/type.ts","../src/lib/text.ts","../src/lib/browser.ts","../src/lib/event.ts","../src/libs.js","../src/core.js","../src/internal/wrap-end.js"],"names":["bTmp","window","B","Object","keys","forEach","key","exports","Type","value","isArray","isString","length","isNumber","isBoolean","isObject","isEmpty","getOwnPropertyNames","isNil","type","prototype","toString","call","map","other","isSymbol","result","isObjectLike","proto","getPrototypeOf","ctor","hasOwnProperty","constructor","Function","trueValues","transformedValue","toLowerCase","includes","isNaN","parsedValue","parseFloat","toNumber","parseInt","isInteger","undefined","Array","isPlainObject","size","isFunction","slice","isBlob","lastModifiedDate","lastModified","name","FormData","reEscape","reUnescape","escapeEntities","unescapeEntities","Text","replace","item","Math","random","join","str","regex","test","match","letter","toUpperCase","substr","capitalize","toCamelCase","matches","x","symbol","string","indexOf","trim","suffix","rules","tagStart","tagEnd","macros","flag","RegExp","split","UA","navigator","userAgent","Browser","document","isOpera","documentMode","isSafari","isFirefox","isChrome","rv","MSStream","ActiveXObject","isIE10","isIE9","isIE","appName","re","res","isArrayLike","exec","detectIEVersion","isIPad","isIPhone","isAndroid","devicePixelRatio","target","doc","compatMode","documentElement","clientHeight","localStorage","setItem","removeItem","e","jsProperty","returnCSSName","getCssName","propertyName","args","getJsName","cssName","reg","property","bReturnCSSName","ucProperty","charAt","props","properties","obj","body","i","prop","style","lowerProp","prefix","Event","handled","data","events","WeakMap","eventObject","get","eventName","eventHandler","append","isNull","_get","push","unshift","set","removed","event","splice","eventParams","globalEvents","globalHandlers","objectHandlers","objectEvents","handlers","concat","handler","apply","global","assign"],"mappings":"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","file":"core.js.map","sourcesContent":[null,"let bTmp = window.B\r\n\r\nwindow.B = {}\r\n\r\nif (bTmp)\r\n{\r\n    Object.keys(bTmp).forEach(key => {\r\n        window.B[key] = bTmp[key]\r\n    })\r\n}\r\n\r\nexports = window.B","export default class Type\r\n{\r\n    static isEmpty(value: any): boolean\r\n    {\r\n        if (this.isArray(value) || this.isString(value))\r\n            return value.length === 0\r\n\r\n        if (this.isNumber(value))\r\n            return value === 0\r\n\r\n        if (this.isBoolean(value))\r\n            return value === false\r\n\r\n        if (this.isObject(value))\r\n            return this.isEmpty(Object.getOwnPropertyNames(value))\r\n\r\n        if (this.isNil(value))\r\n            return true\r\n\r\n        return false\r\n    }\r\n\r\n    static isString(value: any): boolean\r\n    {\r\n        return typeof value === 'string'\r\n    }\r\n\r\n    static isSymbol(value: any): boolean\r\n    {\r\n        const type = typeof value\r\n        return type == 'symbol' || (type === 'object' && value != null && Object.prototype.toString.call(value) == '[object Symbol]')\r\n    }\r\n\r\n    static toString(value: any): string\r\n    {\r\n        if (this.isString(value))\r\n            return value\r\n\r\n        if (this.isNil(value) || this.isObject(value))\r\n            return ''\r\n\r\n        if (this.isBoolean(value))\r\n            return !!value ? '1' : ''\r\n\r\n        if (this.isArray(value)) {\r\n            return `${value.map((other) => other == null ? other : this.toString(other))}`\r\n        }\r\n\r\n        if (this.isSymbol(value))\r\n            return value.toString()\r\n\r\n        const result = `${value}`\r\n\r\n        return (result == '0' && (1 / value) == -(1 / 0)) ? '-0' : result\r\n    }\r\n\r\n    static isFunction(value: any): boolean\r\n    {\r\n        return typeof value === 'function'\r\n    }\r\n\r\n    static isObject(value: any): boolean\r\n    {\r\n        return !!value && (typeof value === 'object' || typeof value === 'function')\r\n    }\r\n\r\n    static isObjectLike(value: any): boolean\r\n    {\r\n        return !!value && typeof value === 'object'\r\n    }\r\n\r\n    static isPlainObject(value: any): boolean\r\n    {\r\n        if (!this.isObjectLike(value) || Object.prototype.toString.call(value) !== '[object Object]')\r\n        {\r\n            return false\r\n        }\r\n\r\n        const proto = Object.getPrototypeOf(value)\r\n        if (proto === null)\r\n        {\r\n            return true\r\n        }\r\n\r\n        const ctor = proto.hasOwnProperty('constructor') && proto.constructor\r\n\r\n        return (\r\n            typeof ctor === 'function' &&\r\n            Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object)\r\n        )\r\n    }\r\n\r\n    static isBoolean(value: any): boolean\r\n    {\r\n        return value === true || value === false\r\n    }\r\n\r\n    static toBoolean(value: any, trueValues = []): boolean\r\n    {\r\n        const transformedValue = this.isString(value) ? value.toLowerCase() : value\r\n        return ['true', 'y', '1', 1, true, ...trueValues].includes(transformedValue)\r\n    }\r\n\r\n    static isNumber(value: any): boolean\r\n    {\r\n        return typeof value === 'number' && !isNaN(value)\r\n    }\r\n\r\n    static toNumber(value: any): number\r\n    {\r\n        let parsedValue = parseFloat(value)\r\n        return this.isNumber(parsedValue) ? parsedValue : 0\r\n    }\r\n\r\n    static isInteger(value: any): boolean\r\n    {\r\n        return this.isNumber(value) && (value % 1) === 0\r\n    }\r\n\r\n    static toInteger(value: any)\r\n    {\r\n        return this.toNumber(parseInt(value, 10))\r\n    }\r\n\r\n    static isFloat(value: any): boolean\r\n    {\r\n        return this.isNumber(value) && !this.isInteger(value)\r\n    }\r\n\r\n    static toFloat(value: any)\r\n    {\r\n        return parseFloat(value)\r\n    }\r\n\r\n    static isNil(value: any): boolean\r\n    {\r\n        return value === null || value === undefined\r\n    }\r\n\r\n    static isArray(value: any): boolean\r\n    {\r\n        return !this.isNil(value) && Array.isArray(value)\r\n    }\r\n\r\n    static isDate(value: any): boolean\r\n    {\r\n        return this.isObjectLike(value) && Object.prototype.toString.call(value) === '[object Date]'\r\n    }\r\n\r\n    static isDomNode(value: any): boolean\r\n    {\r\n        return this.isObjectLike(value) && !this.isPlainObject(value) && 'nodeType' in value\r\n    }\r\n\r\n    static isPrototype(value: any): boolean\r\n    {\r\n        return (\r\n            (((typeof (value && value.constructor) === 'function') && value.constructor.prototype) || Object.prototype) === value\r\n        )\r\n    }\r\n\r\n    static isNull(value: any): boolean\r\n    {\r\n        return value === null\r\n    }\r\n\r\n    static isUndefined(value: any): boolean\r\n    {\r\n        return typeof value === 'undefined'\r\n    }\r\n\r\n    static isBlob(value: any): boolean\r\n    {\r\n        return (\r\n            this.isObjectLike(value)\r\n            && this.isNumber(value.size)\r\n            && this.isString(value.type)\r\n            && this.isFunction(value.slice)\r\n        )\r\n    }\r\n\r\n    static isFile(value: any): boolean\r\n    {\r\n        return (\r\n            this.isBlob(value)\r\n            && this.isObjectLike(value.lastModifiedDate)\r\n            && this.isNumber(value.lastModified)\r\n            && this.isString(value.name)\r\n        )\r\n    }\r\n\r\n    static isFormData(value: any): boolean\r\n    {\r\n        return value instanceof FormData\r\n    }\r\n}","// @ts-ignore\r\nimport Type from './type.ts'\r\n\r\nconst reEscape = /[&<>'\"]/g\r\n\r\nconst reUnescape = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g\r\n\r\nconst escapeEntities = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&#39;',\r\n    '\"': '&quot;',\r\n}\r\n\r\nconst unescapeEntities = {\r\n    '&amp;': '&',\r\n    '&#38;': '&',\r\n    '&lt;': '<',\r\n    '&#60;': '<',\r\n    '&gt;': '>',\r\n    '&#62;': '>',\r\n    '&apos;': \"'\",\r\n    '&#39;': \"'\",\r\n    '&quot;': '\"',\r\n    '&#34;': '\"',\r\n}\r\n\r\nexport default class Text\r\n{\r\n    static encode(value: string): string\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reEscape, item => escapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    static decode(value: string): string\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reUnescape, item => unescapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    static getRandom(length = 8): string\r\n    {\r\n        return [...Array(length)].map(() => (~~(Math.random() * 36)).toString(36)).join('');\r\n    }\r\n\r\n    static toCamelCase(str: string): string\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const regex = /[-_\\s]+(.)?/g\r\n        if (!regex.test(str))\r\n        {\r\n            return str.match(/^[A-Z]+$/) ? str.toLowerCase() : str[0].toLowerCase() + str.slice(1)\r\n        }\r\n\r\n        str = str.toLowerCase()\r\n        str = str.replace(regex, function(match, letter) {\r\n            return letter ? letter.toUpperCase() : ''\r\n        });\r\n\r\n        return str[0].toLowerCase() + str.substr(1)\r\n    }\r\n\r\n    static toPascalCase(str: string): string\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return this.capitalize(this.toCamelCase(str))\r\n    }\r\n\r\n    static toKebabCase(str: string): string\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const matches = str.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\r\n        if (!matches)\r\n        {\r\n            return str\r\n        }\r\n\r\n        return matches.map(x => x.toLowerCase()).join('-')\r\n    }\r\n\r\n    static capitalize(str: string): string\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return str[0].toUpperCase() + str.substr(1)\r\n    }\r\n\r\n    static isIn(symbol: string, string: string): boolean\r\n    {\r\n        string = Type.toString(string)\r\n        return string.indexOf(Type.toString(symbol)) !== -1\r\n    }\r\n\r\n    static trim(value: string): string\r\n    {\r\n        if (Type.isString(value))\r\n            return value.trim()\r\n\r\n        return value\r\n    }\r\n\r\n    static truncate(string: string, length:number, suffix = \"...\"): string\r\n    {\r\n        string = Type.toString(string)\r\n        return string.length > length ? this.trim(string.substr(0, length)) + suffix : string\r\n    }\r\n\r\n    static replaceMacros(string:string, rules:object, tagStart = \"#\", tagEnd = \"#\"): string\r\n    {\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            let macros = {}\r\n\r\n            Object.keys(rules).forEach(key => {\r\n                macros[tagStart + key + tagEnd] = rules[key]\r\n            })\r\n\r\n            string = Text.replace(string, macros)\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    static replace(string:string, rules:object, flag = 'g'): string\r\n    {\r\n        string = Type.toString(string)\r\n\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            Object.keys(rules).forEach(key => {\r\n                string = string.replace(new RegExp(key, flag), rules[key])\r\n            })\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    static nl2br(value:string): string\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/([^>])\\n/g, '$1<br/>')\r\n    }\r\n\r\n    static stripTags(value:string): string\r\n    {\r\n        if (!value || !value.split)\r\n            return value\r\n\r\n        return value.split(/<[^>]+>/g).join('')\r\n    }\r\n\r\n    static stripPhpTags(value:string): string\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/<\\?(.|[\\r\\n])*?\\?>/g, '')\r\n    }\r\n}","import Type from './type.ts'\n\nconst UA = navigator.userAgent.toLowerCase()\n\nexport default class Browser\n{\n\tstatic isOpera()\n\t{\n\t\treturn UA.includes('opera')\n\t}\n\n\tstatic isIE()\n\t{\n\t\treturn ('attachEvent' in document) && !Browser.isOpera()\n\t}\n\n\tstatic isIE6()\n\t{\n\t\treturn UA.includes('msie 6')\n\t}\n\n\tstatic isIE7()\n\t{\n\t\treturn UA.includes('msie 7')\n\t}\n\n\tstatic isIE8()\n\t{\n\t\treturn UA.includes('msie 8')\n\t}\n\n\tstatic isIE9()\n\t{\n\t\treturn ('documentMode' in document) && document.documentMode >= 9\n\t}\n\n\tstatic isIE10()\n\t{\n\t\treturn ('documentMode' in document) && document.documentMode >= 10\n\t}\n\n\tstatic isSafari()\n\t{\n\t\treturn UA.includes('webkit')\n\t}\n\n\tstatic isFirefox()\n\t{\n\t\treturn UA.includes('firefox')\n\t}\n\n\tstatic isChrome()\n\t{\n\t\treturn UA.includes('chrome')\n\t}\n\n\tstatic detectIEVersion()\n\t{\n\t\tif (Browser.isOpera() || Browser.isSafari() || Browser.isFirefox() || Browser.isChrome())\n\t\t{\n\t\t\treturn -1\n\t\t}\n\n\t\tlet rv = -1\n\n\t\tif (\n\t\t\t!!(window.MSStream)\n\t\t\t&& !(window.ActiveXObject)\n\t\t\t&& ('ActiveXObject' in window)\n\t\t)\n\t\t{\n\t\t\trv = 11\n\t\t}\n\t\telse if (Browser.isIE10())\n\t\t{\n\t\t\trv = 10\n\t\t}\n\t\telse if (Browser.isIE9())\n\t\t{\n\t\t\trv = 9\n\t\t}\n\t\telse if (Browser.isIE())\n\t\t{\n\t\t\trv = 8\n\t\t}\n\n\t\tif (rv === -1 || rv === 8)\n\t\t{\n\t\t\tif (navigator.appName === 'Microsoft Internet Explorer')\n\t\t\t{\n\t\t\t\tconst re = new RegExp('MSIE ([0-9]+[.0-9]*)')\n\t\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t\t{\n\t\t\t\t\trv = parseFloat(res[1])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (navigator.appName === 'Netscape')\n\t\t\t{\n\t\t\t\trv = 11\n\t\t\t\tconst re = new RegExp('Trident/.*rv:([0-9]+[.0-9]*)')\n\n\t\t\t\tif (re.exec(navigator.userAgent) != null)\n\t\t\t\t{\n\t\t\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\trv = parseFloat(res[1])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rv\n\t}\n\n\tstatic isIE11()\n\t{\n\t\treturn Browser.detectIEVersion() >= 11\n\t}\n\n\tstatic isMac()\n\t{\n\t\treturn UA.includes('macintosh')\n\t}\n\n\tstatic isAndroid()\n\t{\n\t\treturn UA.includes('android')\n\t}\n\n\tstatic isIPad()\n\t{\n\t\treturn UA.includes('ipad;')\n\t}\n\n\tstatic isIPhone()\n\t{\n\t\treturn UA.includes('iphone;')\n\t}\n\n\tstatic isIOS()\n\t{\n\t\treturn Browser.isIPad() || Browser.isIPhone()\n\t}\n\n\tstatic isMobile()\n\t{\n\t\treturn (\n\t\t\tBrowser.isIPhone()\n\t\t\t|| Browser.isIPad()\n\t\t\t|| Browser.isAndroid()\n\t\t\t|| UA.includes('mobile')\n\t\t\t|| UA.includes('touch')\n\t\t)\n\t}\n\n\tstatic isRetina()\n\t{\n\t\treturn window.devicePixelRatio && window.devicePixelRatio >= 2\n\t}\n\n\tstatic isDoctype(target: any)\n\t{\n\t\tconst doc = target || document\n\n\t\tif (doc.compatMode)\n\t\t{\n\t\t\treturn (doc.compatMode === 'CSS1Compat')\n\t\t}\n\n\t\treturn (doc.documentElement && doc.documentElement.clientHeight)\n\t}\n\n\tstatic isLocalStorageSupported()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.setItem('test', 'test')\n\t\t\tlocalStorage.removeItem('test')\n\t\t\treturn true\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\treturn false\n\t\t}\n\t}\n\n\n\tstatic detectAndroidVersion()\n\t{\n\t\tconst re = new RegExp('Android ([0-9]+[.0-9]*)')\n\n\t\tif (re.exec(navigator.userAgent) != null)\n\t\t{\n\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t{\n\t\t\t\treturn parseFloat(res[1])\n\t\t\t}\n\t\t}\n\n\t\treturn 0\n\t}\n\n\tstatic isPropertySupported(jsProperty: any, returnCSSName: any)\n\t{\n\t\tif (jsProperty === '')\n\t\t{\n\t\t\treturn false\n\t\t}\n\n\t\tfunction getCssName(propertyName)\n\t\t{\n\t\t\treturn propertyName.replace(/([A-Z])/g, (...args) => `-${args[1].toLowerCase()}`)\n\t\t}\n\n\t\tfunction getJsName(cssName)\n\t\t{\n\t\t\tconst reg = /(\\\\-([a-z]))/g\n\n\t\t\tif (reg.test(cssName))\n\t\t\t{\n\t\t\t\treturn cssName.replace(reg, (...args) => args[2].toUpperCase())\n\t\t\t}\n\n\t\t\treturn cssName\n\t\t}\n\n\t\tconst property = jsProperty.includes('-') ? getJsName(jsProperty) : jsProperty\n\t\tconst bReturnCSSName = !!returnCSSName\n\t\tconst ucProperty = property.charAt(0).toUpperCase() + property.slice(1)\n\t\tconst props = ['Webkit', 'Moz', 'O', 'ms'].join(`${ucProperty} `)\n\t\tconst properties = `${property} ${props} ${ucProperty}`.split(' ')\n\n\t\tconst obj = document.body || document.documentElement\n\n\t\tfor (let i = 0; i < properties.length; i += 1)\n\t\t{\n\t\t\tconst prop = properties[i]\n\n\t\t\tif (obj && 'style' in obj && prop in obj.style)\n\t\t\t{\n\t\t\t\tconst lowerProp = prop.substr(0, prop.length - property.length).toLowerCase()\n\t\t\t\tconst prefix = prop === property ? '' : `-${lowerProp}-`\n\t\t\t\treturn bReturnCSSName ? prefix + getCssName(property) : prop\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n}","import Type from \"./type.ts\"\r\n\r\nexport default class Event\r\n{\r\n    constructor()\r\n    {\r\n        /**\r\n         * Наименование события. Обработчики могут использовать\r\n         * @type {string}\r\n         */\r\n        this.name = \"\"\r\n\r\n        /**\r\n         * Определяет, является ли событие обработанным. Когда установлено в `true`,\r\n         * @type {boolean}\r\n         */\r\n        this.handled = false\r\n\r\n        /**\r\n         * Данные, которые приходят из [[CustomEvents.on()]] когда прикрепляется обработчик события.\r\n         * @type {*}\r\n         */\r\n        this.data = {}\r\n\r\n        /**\r\n         * Содержит все зарегистрированные события.\r\n         * @type {WeakMap}\r\n         */\r\n        this.events = new WeakMap()\r\n    }\r\n\r\n    /**\r\n     * Получает массив событий из объекта\r\n     * @param {Object} eventObject\r\n     * @returns {Object}\r\n     */\r\n    _get(eventObject)\r\n    {\r\n        return this.events.get(eventObject) || {}\r\n    }\r\n\r\n    /**\r\n     * Прикрепляет обработчик события к объекту.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|null} eventHandler\r\n     * @param {*} data\r\n     * @param {boolean|null} append\r\n     */\r\n    on(eventObject, eventName, eventHandler, data = null, append = true)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            append = Type.isNull(data) ? true : data\r\n            data = eventHandler || null\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (\r\n            !Type.isFunction(eventHandler) ||\r\n            Type.isEmpty(eventName) ||\r\n            !Type.isObject(eventObject)\r\n        )\r\n            return\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (!Type.isArray(events[eventName]))\r\n            events[eventName] = []\r\n\r\n        if (append)\r\n            events[eventName].push([eventHandler, data])\r\n        else\r\n            events[eventName].unshift([eventHandler, data])\r\n\r\n        this.events.set(eventObject, events)\r\n    }\r\n\r\n    /**\r\n     * Открепляет обработчик события от объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|undefined} eventHandler\r\n     * @returns {boolean}\r\n     */\r\n    off(eventObject, eventName, eventHandler)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (Type.isNull(eventHandler))\r\n        {\r\n            delete events[eventName]\r\n            return true\r\n        }\r\n\r\n        let removed = false\r\n\r\n        if (events && Type.isArray(events[eventName]))\r\n        {\r\n            events[eventName].forEach(function (event, i) {\r\n                if (event[0] === eventHandler)\r\n                {\r\n                    events[eventName].splice(i, 1)\r\n                    removed = true\r\n                }\r\n            })\r\n        }\r\n\r\n        return removed\r\n    }\r\n\r\n    /**\r\n     * Вызывает событие объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Object} eventName\r\n     * @param {Array|null} eventParams\r\n     * @param {null|undefined} event\r\n     */\r\n    trigger(eventObject, eventName, eventParams = null, event = null)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            event = eventParams || null\r\n            eventParams = eventName || []\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (eventParams === null)\r\n            eventParams = []\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let globalEvents = this._get(window)\r\n        let globalHandlers = globalEvents && Type.isArray(globalEvents[eventName]) ? globalEvents[eventName] : []\r\n        let objectHandlers = []\r\n\r\n        if (eventObject !== window && Type.isObject(eventObject))\r\n        {\r\n            let objectEvents = this._get(eventObject)\r\n            if (objectEvents && Type.isArray(objectEvents[eventName]))\r\n            {\r\n                objectHandlers = objectEvents[eventName]\r\n            }\r\n        }\r\n\r\n        let handlers = globalHandlers.concat(objectHandlers)\r\n\r\n        if (event === null)\r\n            event = new Event()\r\n\r\n        event.handled = false\r\n        event.name = eventName\r\n\r\n        for (let i = 0; i <= handlers.length - 1; i++)\r\n        {\r\n            let handler = handlers[i]\r\n\r\n            event.data = handler[1]\r\n\r\n            if (eventParams.indexOf(event) < 0)\r\n                eventParams.unshift(event)\r\n\r\n            if (Type.isFunction(handler[0]))\r\n                handler[0].apply(eventObject, eventParams)\r\n\r\n            if (event.handled)\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n}","import Type from './lib/type.ts'\r\nimport Text from './lib/text.ts'\r\nimport Browser from './lib/browser.ts'\r\nimport Event from './lib/event.ts'\r\n\r\nconst event = new Event()\r\n\r\nexport {\r\n    Type,\r\n    Text,\r\n    Browser,\r\n    Event,\r\n    event\r\n};","import './internal/b'\r\n\r\nexport * from './libs'\r\n\r\nif (global && global.window && global.window.B)\r\n{\r\n    Object.assign(global.window.B, exports)\r\n}",null]}