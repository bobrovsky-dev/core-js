{"version":3,"sources":["../src/internal/wrap-start.js","../src/internal/b.js","../src/lib/type.js","../src/lib/browser.js","../src/lib/text.js","../src/lib/arrays.js","../src/lib/event.js","../src/libs.js","../src/core.js","../src/internal/wrap-end.js"],"names":["bTmp","window","B","Object","keys","forEach","key","exports","Type","value","isArray","isString","length","isNumber","isBoolean","isObject","isEmpty","getOwnPropertyNames","isNil","type","prototype","toString","call","map","other","isSymbol","result","isObjectLike","proto","getPrototypeOf","ctor","hasOwnProperty","constructor","Function","trueValues","transformedValue","toLowerCase","includes","isNaN","parsedValue","parseFloat","toNumber","parseInt","isInteger","undefined","Array","isPlainObject","size","isFunction","slice","isBlob","lastModifiedDate","lastModified","name","FormData","UA","navigator","userAgent","Browser","document","isOpera","documentMode","isSafari","isFirefox","isChrome","rv","MSStream","ActiveXObject","isIE10","isIE9","isIE","appName","re","RegExp","res","match","isArrayLike","exec","detectIEVersion","isIPad","isIPhone","isAndroid","devicePixelRatio","target","doc","compatMode","documentElement","clientHeight","localStorage","setItem","removeItem","e","jsProperty","returnCSSName","getCssName","propertyName","replace","args","getJsName","cssName","reg","test","toUpperCase","property","bReturnCSSName","ucProperty","charAt","props","join","properties","split","obj","body","i","prop","style","lowerProp","substr","prefix","reEscape","reUnescape","escapeEntities","unescapeEntities","Text","item","Math","random","str","regex","letter","capitalize","toCamelCase","matches","x","symbol","string","indexOf","trim","replacement","start","stringLength","max","trimMarker","trimMarkerLength","replaceSubstring","toInteger","ceil","end","rules","tagStart","tagEnd","macros","flag","separator","skipEmpty","filter","offset","needle","haystack","insensitive","last","pos","value1","value2","cut","position","Arrays","array","clean","values","defaultValue","getValues","convertKeyToString","v","convertString","getKeys","keyExists","lastKey","pop","keyPart","getValue","splice","val","remove","keepKeys","resultObject","push","Event","handled","data","events","WeakMap","eventObject","get","eventName","eventHandler","append","isNull","_get","unshift","set","removed","event","eventParams","globalEvents","globalHandlers","objectHandlers","objectEvents","handlers","concat","handler","apply","reduce","acc","isNotEmptyString","isNotEmptyObject","isMapKey","stringToInt","parsed","Number","browser","IsOpera","IsIE","IsIE6","isIE6","IsIE7","isIE7","IsIE8","isIE8","IsIE9","IsIE10","IsIE11","isIE11","IsSafari","IsFirefox","IsChrome","DetectIeVersion","IsMac","isMac","IsAndroid","IsIOS","isIOS","IsMobile","isMobile","isRetina","IsDoctype","isDoctype","SupportLocalStorage","isLocalStorageSupported","addGlobalClass","DetectAndroidVersion","detectAndroidVersion","isPropertySupported","addGlobalFeatures","on","off","trigger","getRandom","replaceMacros","global","assign"],"mappings":"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","file":"core.js.map","sourcesContent":[null,"let bTmp = window.B\r\n\r\nwindow.B = {}\r\n\r\nif (bTmp)\r\n{\r\n    Object.keys(bTmp).forEach(key => {\r\n        window.B[key] = bTmp[key]\r\n    })\r\n}\r\n\r\nexports = window.B","export default class Type\r\n{\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isEmpty(value)\r\n    {\r\n        if (this.isArray(value) || this.isString(value))\r\n            return value.length === 0\r\n\r\n        if (this.isNumber(value))\r\n            return value === 0\r\n\r\n        if (this.isBoolean(value))\r\n            return value === false\r\n\r\n        if (this.isObject(value))\r\n            return this.isEmpty(Object.getOwnPropertyNames(value))\r\n\r\n        return this.isNil(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isString(value)\r\n    {\r\n        return typeof value === 'string'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isSymbol(value)\r\n    {\r\n        const type = typeof value\r\n        return type == 'symbol' || (type === 'object' && value != null && Object.prototype.toString.call(value) == '[object Symbol]')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {string}\r\n     */\r\n    static toString(value)\r\n    {\r\n        if (this.isString(value))\r\n            return value\r\n\r\n        if (this.isNil(value) || this.isObject(value))\r\n            return ''\r\n\r\n        if (this.isBoolean(value))\r\n            return !!value ? '1' : ''\r\n\r\n        if (this.isArray(value)) {\r\n            return `${value.map((other) => other == null ? other : this.toString(other))}`\r\n        }\r\n\r\n        if (this.isSymbol(value))\r\n            return value.toString()\r\n\r\n        const result = `${value}`\r\n\r\n        return (result == '0' && (1 / value) == -(1 / 0)) ? '-0' : result\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFunction(value)\r\n    {\r\n        return typeof value === 'function'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObject(value)\r\n    {\r\n        return !!value && (typeof value === 'object' || typeof value === 'function')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObjectLike(value)\r\n    {\r\n        return !!value && typeof value === 'object'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPlainObject(value)\r\n    {\r\n        if (!this.isObjectLike(value) || Object.prototype.toString.call(value) !== '[object Object]')\r\n        {\r\n            return false\r\n        }\r\n\r\n        const proto = Object.getPrototypeOf(value)\r\n        if (proto === null)\r\n        {\r\n            return true\r\n        }\r\n\r\n        const ctor = proto.hasOwnProperty('constructor') && proto.constructor\r\n\r\n        return (\r\n            typeof ctor === 'function' &&\r\n            Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBoolean(value)\r\n    {\r\n        return value === true || value === false\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @param {array} trueValues\r\n     * @returns {boolean}\r\n     */\r\n    static toBoolean(value, trueValues = [])\r\n    {\r\n        const transformedValue = this.isString(value) ? value.toLowerCase() : value\r\n        return ['true', 'y', '1', 1, true, ...trueValues].includes(transformedValue)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNumber(value)\r\n    {\r\n        return typeof value === 'number' && !isNaN(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toNumber(value)\r\n    {\r\n        let parsedValue = parseFloat(value)\r\n        return this.isNumber(parsedValue) ? parsedValue : 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isInteger(value)\r\n    {\r\n        return this.isNumber(value) && (value % 1) === 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toInteger(value)\r\n    {\r\n        return this.toNumber(parseInt(value, 10))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFloat(value)\r\n    {\r\n        return this.isNumber(value) && !this.isInteger(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @returns {number}\r\n     */\r\n    static toFloat(value)\r\n    {\r\n        return parseFloat(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNil(value)\r\n    {\r\n        return value === null || value === undefined\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isArray(value)\r\n    {\r\n        return !this.isNil(value) && Array.isArray(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDate(value)\r\n    {\r\n        return this.isObjectLike(value) && Object.prototype.toString.call(value) === '[object Date]'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDomNode(value)\r\n    {\r\n        return this.isObjectLike(value) && !this.isPlainObject(value) && 'nodeType' in value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPrototype(value)\r\n    {\r\n        return (\r\n            (((typeof (value && value.constructor) === 'function') && value.constructor.prototype) || Object.prototype) === value\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNull(value)\r\n    {\r\n        return value === null\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isUndefined(value)\r\n    {\r\n        return typeof value === 'undefined'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBlob(value)\r\n    {\r\n        return (\r\n            this.isObjectLike(value)\r\n            && this.isNumber(value.size)\r\n            && this.isString(value.type)\r\n            && this.isFunction(value.slice)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFile(value)\r\n    {\r\n        return (\r\n            this.isBlob(value)\r\n            && this.isObjectLike(value.lastModifiedDate)\r\n            && this.isNumber(value.lastModified)\r\n            && this.isString(value.name)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFormData(value)\r\n    {\r\n        return value instanceof FormData\r\n    }\r\n}","import Type from './type'\r\n\r\nconst UA = navigator.userAgent.toLowerCase()\r\n\r\nexport default class Browser\r\n{\r\n\tstatic isOpera()\r\n\t{\r\n\t\treturn UA.includes('opera')\r\n\t}\r\n\r\n\tstatic isIE()\r\n\t{\r\n\t\treturn ('attachEvent' in document) && !Browser.isOpera()\r\n\t}\r\n\r\n\tstatic isIE6()\r\n\t{\r\n\t\treturn UA.includes('msie 6')\r\n\t}\r\n\r\n\tstatic isIE7()\r\n\t{\r\n\t\treturn UA.includes('msie 7')\r\n\t}\r\n\r\n\tstatic isIE8()\r\n\t{\r\n\t\treturn UA.includes('msie 8')\r\n\t}\r\n\r\n\tstatic isIE9()\r\n\t{\r\n\t\treturn ('documentMode' in document) && document.documentMode >= 9\r\n\t}\r\n\r\n\tstatic isIE10()\r\n\t{\r\n\t\treturn ('documentMode' in document) && document.documentMode >= 10\r\n\t}\r\n\r\n\tstatic isSafari()\r\n\t{\r\n\t\treturn UA.includes('webkit')\r\n\t}\r\n\r\n\tstatic isFirefox()\r\n\t{\r\n\t\treturn UA.includes('firefox')\r\n\t}\r\n\r\n\tstatic isChrome()\r\n\t{\r\n\t\treturn UA.includes('chrome')\r\n\t}\r\n\r\n\tstatic detectIEVersion()\r\n\t{\r\n\t\tif (Browser.isOpera() || Browser.isSafari() || Browser.isFirefox() || Browser.isChrome())\r\n\t\t{\r\n\t\t\treturn -1\r\n\t\t}\r\n\r\n\t\tlet rv = -1\r\n\r\n\t\tif (\r\n\t\t\t!!(window.MSStream)\r\n\t\t\t&& !(window.ActiveXObject)\r\n\t\t\t&& ('ActiveXObject' in window)\r\n\t\t)\r\n\t\t{\r\n\t\t\trv = 11\r\n\t\t}\r\n\t\telse if (Browser.isIE10())\r\n\t\t{\r\n\t\t\trv = 10\r\n\t\t}\r\n\t\telse if (Browser.isIE9())\r\n\t\t{\r\n\t\t\trv = 9\r\n\t\t}\r\n\t\telse if (Browser.isIE())\r\n\t\t{\r\n\t\t\trv = 8\r\n\t\t}\r\n\r\n\t\tif (rv === -1 || rv === 8)\r\n\t\t{\r\n\t\t\tif (navigator.appName === 'Microsoft Internet Explorer')\r\n\t\t\t{\r\n\t\t\t\tconst re = new RegExp('MSIE ([0-9]+[.0-9]*)')\r\n\t\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\trv = parseFloat(res[1])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (navigator.appName === 'Netscape')\r\n\t\t\t{\r\n\t\t\t\trv = 11\r\n\t\t\t\tconst re = new RegExp('Trident/.*rv:([0-9]+[.0-9]*)')\r\n\r\n\t\t\t\tif (re.exec(navigator.userAgent) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trv = parseFloat(res[1])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rv\r\n\t}\r\n\r\n\tstatic isIE11()\r\n\t{\r\n\t\treturn Browser.detectIEVersion() >= 11\r\n\t}\r\n\r\n\tstatic isMac()\r\n\t{\r\n\t\treturn UA.includes('macintosh')\r\n\t}\r\n\r\n\tstatic isAndroid()\r\n\t{\r\n\t\treturn UA.includes('android')\r\n\t}\r\n\r\n\tstatic isIPad()\r\n\t{\r\n\t\treturn UA.includes('ipad;')\r\n\t}\r\n\r\n\tstatic isIPhone()\r\n\t{\r\n\t\treturn UA.includes('iphone;')\r\n\t}\r\n\r\n\tstatic isIOS()\r\n\t{\r\n\t\treturn Browser.isIPad() || Browser.isIPhone()\r\n\t}\r\n\r\n\tstatic isMobile()\r\n\t{\r\n\t\treturn (\r\n\t\t\tBrowser.isIPhone()\r\n\t\t\t|| Browser.isIPad()\r\n\t\t\t|| Browser.isAndroid()\r\n\t\t\t|| UA.includes('mobile')\r\n\t\t\t|| UA.includes('touch')\r\n\t\t)\r\n\t}\r\n\r\n\tstatic isRetina()\r\n\t{\r\n\t\treturn window.devicePixelRatio && window.devicePixelRatio >= 2\r\n\t}\r\n\r\n\tstatic isDoctype(target)\r\n\t{\r\n\t\tconst doc = target || document\r\n\r\n\t\tif (doc.compatMode)\r\n\t\t{\r\n\t\t\treturn (doc.compatMode === 'CSS1Compat')\r\n\t\t}\r\n\r\n\t\treturn (doc.documentElement && doc.documentElement.clientHeight)\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tlocalStorage.setItem('test', 'test')\r\n\t\t\tlocalStorage.removeItem('test')\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch (e)\r\n\t\t{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tstatic detectAndroidVersion()\r\n\t{\r\n\t\tconst re = new RegExp('Android ([0-9]+[.0-9]*)')\r\n\r\n\t\tif (re.exec(navigator.userAgent) != null)\r\n\t\t{\r\n\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t{\r\n\t\t\t\treturn parseFloat(res[1])\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 0\r\n\t}\r\n\r\n\tstatic isPropertySupported(jsProperty, returnCSSName)\r\n\t{\r\n\t\tif (jsProperty === '')\r\n\t\t{\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction getCssName(propertyName)\r\n\t\t{\r\n\t\t\treturn propertyName.replace(/([A-Z])/g, (...args) => `-${args[1].toLowerCase()}`)\r\n\t\t}\r\n\r\n\t\tfunction getJsName(cssName)\r\n\t\t{\r\n\t\t\tconst reg = /(\\\\-([a-z]))/g\r\n\r\n\t\t\tif (reg.test(cssName))\r\n\t\t\t{\r\n\t\t\t\treturn cssName.replace(reg, (...args) => args[2].toUpperCase())\r\n\t\t\t}\r\n\r\n\t\t\treturn cssName\r\n\t\t}\r\n\r\n\t\tconst property = jsProperty.includes('-') ? getJsName(jsProperty) : jsProperty\r\n\t\tconst bReturnCSSName = !!returnCSSName\r\n\t\tconst ucProperty = property.charAt(0).toUpperCase() + property.slice(1)\r\n\t\tconst props = ['Webkit', 'Moz', 'O', 'ms'].join(`${ucProperty} `)\r\n\t\tconst properties = `${property} ${props} ${ucProperty}`.split(' ')\r\n\r\n\t\tconst obj = document.body || document.documentElement\r\n\r\n\t\tfor (let i = 0; i < properties.length; i += 1)\r\n\t\t{\r\n\t\t\tconst prop = properties[i]\r\n\r\n\t\t\tif (obj && 'style' in obj && prop in obj.style)\r\n\t\t\t{\r\n\t\t\t\tconst lowerProp = prop.substr(0, prop.length - property.length).toLowerCase()\r\n\t\t\t\tconst prefix = prop === property ? '' : `-${lowerProp}-`\r\n\t\t\t\treturn bReturnCSSName ? prefix + getCssName(property) : prop\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n}","import Type from './type'\r\n\r\nconst reEscape = /[&<>'\"]/g\r\n\r\nconst reUnescape = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g\r\n\r\nconst escapeEntities = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&#39;',\r\n    '\"': '&quot;',\r\n}\r\n\r\nconst unescapeEntities = {\r\n    '&amp;': '&',\r\n    '&#38;': '&',\r\n    '&lt;': '<',\r\n    '&#60;': '<',\r\n    '&gt;': '>',\r\n    '&#62;': '>',\r\n    '&apos;': \"'\",\r\n    '&#39;': \"'\",\r\n    '&quot;': '\"',\r\n    '&#34;': '\"',\r\n}\r\n\r\nexport default class Text\r\n{\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static encode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reEscape, item => escapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static decode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reUnescape, item => unescapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} length\r\n     * @returns {string}\r\n     */\r\n    static getRandom(length = 8)\r\n    {\r\n        return [...Array(length)].map(() => (~~(Math.random() * 36)).toString(36)).join('');\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toCamelCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const regex = /[-_\\s]+(.)?/g\r\n        if (!regex.test(str))\r\n        {\r\n            return str.match(/^[A-Z]+$/) ? str.toLowerCase() : str[0].toLowerCase() + str.slice(1)\r\n        }\r\n\r\n        str = str.toLowerCase()\r\n        str = str.replace(regex, function(match, letter) {\r\n            return letter ? letter.toUpperCase() : ''\r\n        });\r\n\r\n        return str[0].toLowerCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toPascalCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return this.capitalize(this.toCamelCase(str))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toKebabCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const matches = str.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\r\n        if (!matches)\r\n        {\r\n            return str\r\n        }\r\n\r\n        return matches.map(x => x.toLowerCase()).join('-')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static capitalize(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return str[0].toUpperCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} symbol\r\n     * @param {string} string\r\n     * @returns {boolean}\r\n     */\r\n    static isIn(symbol, string)\r\n    {\r\n        string = Type.toString(string)\r\n        return string.indexOf(Type.toString(symbol)) !== -1\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static trim(value)\r\n    {\r\n        if (Type.isString(value))\r\n            return value.trim()\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     * Заменяет текст внутри части строки.\r\n     *\r\n     * @param {string} string Входная строка.\r\n     * @param {string} replacement Строка замены.\r\n     * @param {number} start Позиция для начала замены подстроки at.\r\n     * Если start неотрицателен, то замена начнется с начального смещения в строку.\r\n     * Если start отрицательный, то замена начнется с начального символа в конце строки.\r\n     * @param {number|null} length Длина подстроки, подлежащей замене.\r\n     * Если задано и положительно, то оно представляет собой длину части строки, которая должна быть заменена.\r\n     * Если он отрицательный, то представляет собой количество символов от конца строки, на котором следует прекратить замену.\r\n     * Если он не задан, то по умолчанию он будет равен длине строки, то есть завершит замену в конце строки.\r\n     * Если длина равна нулю, то эта функция будет иметь эффект вставки замены в строку при заданном начальном смещении.\r\n     *\r\n     * @returns {string}\r\n     */\r\n    static replaceSubstring(string, replacement, start, length = null)\r\n    {\r\n        string = Type.toString(string)\r\n        let stringLength = string.length\r\n\r\n        if (start < 0)\r\n            start = Math.max(0, stringLength + start)\r\n        else if (start > stringLength)\r\n            start = stringLength\r\n\r\n        if (length !== null && length < 0)\r\n            length = Math.max(0, stringLength - start + length)\r\n        else if (length === null || length > stringLength)\r\n            length = stringLength\r\n\r\n        if ((start + length) > stringLength)\r\n            length = stringLength - start\r\n\r\n        return string.substr(0, start) + replacement + string.substr(start + length, stringLength - start - length)\r\n    }\r\n\r\n    /**\r\n     * Усекает строку от начала до указанного количества символов.\r\n     *\r\n     * @param {string} string Строка для обработки.\r\n     * @param {number} length Максимальная длина усеченной строки, включая маркер обрезки.\r\n     * @param {string} trimMarker Строка для добавления в начало.\r\n     * @returns {string}\r\n     */\r\n    static truncateBegin(string, length, trimMarker = \"...\")\r\n    {\r\n        string = Type.toString(string)\r\n        let stringLength = string.length\r\n        if (stringLength <= length)\r\n            return string\r\n\r\n        trimMarker = Type.toString(trimMarker)\r\n        let trimMarkerLength = trimMarker.length\r\n\r\n        return this.replaceSubstring(string, trimMarker, 0, -length + trimMarkerLength)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {number} length\r\n     * @param {string} trimMarker\r\n     * @returns {string}\r\n     */\r\n    static truncateMiddle(string, length, trimMarker = \"...\")\r\n    {\r\n        string = Type.toString(string)\r\n        let stringLength = string.length\r\n        if (stringLength <= length)\r\n            return string\r\n\r\n        trimMarker = Type.toString(trimMarker)\r\n        let trimMarkerLength = trimMarker.length\r\n\r\n        let start = Type.toInteger(Math.ceil((length - trimMarkerLength) / 2))\r\n        let end = length - start - trimMarkerLength\r\n\r\n        return this.replaceSubstring(string, trimMarker, start, -end)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {number} length\r\n     * @param {string} trimMarker\r\n     * @returns {string}\r\n     */\r\n    static truncateEnd(string, length, trimMarker = \"...\")\r\n    {\r\n        string = Type.toString(string)\r\n        let stringLength = string.length\r\n        if (stringLength <= length)\r\n            return string\r\n\r\n        trimMarker = Type.toString(trimMarker)\r\n        let trimMarkerLength = trimMarker.length\r\n\r\n        return this.trim(string.substr(0, length - trimMarkerLength)) + trimMarker\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} tagStart\r\n     * @param {string} tagEnd\r\n     * @returns {string}\r\n     */\r\n    static replaceMacros(string, rules, tagStart = \"#\", tagEnd = \"#\")\r\n    {\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            let macros = {}\r\n\r\n            Object.keys(rules).forEach(key => {\r\n                macros[tagStart + key + tagEnd] = rules[key]\r\n            })\r\n\r\n            string = Text.replace(string, macros)\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} flag\r\n     * @returns {string}\r\n     */\r\n    static replace(string, rules, flag = 'g')\r\n    {\r\n        string = Type.toString(string)\r\n\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            Object.keys(rules).forEach(key => {\r\n                string = string.replace(new RegExp(key, flag), rules[key])\r\n            })\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static nl2br(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/([^>])\\n/g, '$1<br/>')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripTags(value)\r\n    {\r\n        if (!value || !value.split)\r\n            return value\r\n\r\n        return value.split(/<[^>]+>/g).join('')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripPhpTags(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/<\\?(.|[\\r\\n])*?\\?>/g, '')\r\n    }\r\n\r\n    /**\r\n     * Взрывает строку в массив, опционально обрезает значения и пропускает пустые\r\n     *\r\n     * @param {string} value\r\n     * @param {string} separator\r\n     * @param {boolean} trim\r\n     * @param {boolean} skipEmpty\r\n     * @returns {array}\r\n     */\r\n    static explode(value, separator = ',', trim = true, skipEmpty = false)\r\n    {\r\n        value = Type.toString(value)\r\n        let result = value.split(separator)\r\n        if (!!trim)\r\n        {\r\n            result = result.map(i => this.trim(i))\r\n        }\r\n        if (skipEmpty)\r\n        {\r\n            result = result.filter(i => i !== \"\")\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    /**\r\n     * Метод для обрезания строк.\r\n     *\r\n     * @param {string} value\r\n     * @param {number} offset\r\n     * @param {number|null} length\r\n     * @returns {string}\r\n     */\r\n    static cut(value, offset, length = null)\r\n    {\r\n        value = Type.toString(value)\r\n        return value.substr(offset, length)\r\n    }\r\n\r\n    /**\r\n     * Возвращает позицию подстроки в строке.\r\n     *\r\n     * @param {string} needle Подстрока.\r\n     * @param {string} haystack Строка.\r\n     * @param {number} offset Смещение.\r\n     * @param {boolean} insensitive Нечювствительность к регистру.\r\n     * @param {boolean} last Искать последнюю подстроку.\r\n     * @returns {number|false} Позиция, с которой начинается первая или последняя найденная подстрока или `false`, если подстрока не найдена.\r\n     */\r\n    static position(needle, haystack, offset = 0, insensitive = false, last = false)\r\n    {\r\n        needle = Type.toString(needle)\r\n        haystack = Type.toString(haystack)\r\n\r\n        if (insensitive)\r\n        {\r\n            haystack = haystack.toLowerCase()\r\n            needle = needle.toLowerCase()\r\n        }\r\n\r\n        let pos = haystack.indexOf(needle, offset)\r\n\r\n        if (last)\r\n        {\r\n            offset = pos\r\n\r\n            while (true)\r\n            {\r\n                let res = haystack.indexOf(needle, offset += 1)\r\n\r\n                if (res == -1) break\r\n\r\n                pos = res\r\n            }\r\n        }\r\n\r\n        return pos >= 0 ? pos : false\r\n    }\r\n\r\n    /**\r\n     * Сравнивкт две строки\r\n     *\r\n     * @param {string} value1 Первая строка для сравнения.\r\n     * @param {string} value2 Вторая строка для сравнения.\r\n     * @param {number} length Количество сравневаемых символов. Если 0, то сравнивает всю строку.\r\n     * @param {boolean} insensitive Нечювствительность к регистру.\r\n     * @returns {boolean} Результат сравнения.\r\n     */\r\n    static compare(value1, value2, length = 0, insensitive = false)\r\n    {\r\n        value1 = Type.toString(value1)\r\n        value2 = Type.toString(value2)\r\n        length = Type.toInteger(length)\r\n\r\n        if (length > 0)\r\n        {\r\n            value1 = this.cut(value1, 0, length)\r\n            value2 = this.cut(value2, 0, length)\r\n        }\r\n\r\n        return this.position(value1, value2, 0, insensitive, false) === 0\r\n    }\r\n}","import Type from \"./type\"\r\nimport Text from \"./text\"\r\n\r\nexport default class Arrays\r\n{\r\n    /**\r\n     * Возвращает значения с новыми ключами\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {boolean} clean Нужно ли очищать от null и undefined\r\n     * @returns {array}\r\n     */\r\n    static getValues(array, clean = true)\r\n    {\r\n        if (Type.isArray(array))\r\n            return clean ? this.clean(array) : array\r\n\r\n        if(Type.isObjectLike(array))\r\n        {\r\n            array = Object.values(array)\r\n            return clean ? this.clean(array) : array\r\n        }\r\n\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Возвращает первое значение, или значение по умолчанию\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @param {boolean} clean Нужно ли очищать от null и undefined\r\n     * @returns {mixed}\r\n     */\r\n    static getFirstValue(array, defaultValue = null, clean = true)\r\n    {\r\n        let values = this.getValues(array, clean)\r\n        return values.length ? values[0] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Возвращает последнее значение, или значение по умолчанию\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @param {boolean} clean Нужно ли очищать от null и undefined\r\n     * @returns {mixed}\r\n     */\r\n    static getLastValue(array, defaultValue = null, clean = true)\r\n    {\r\n        let values = this.getValues(array, clean)\r\n        return values.length ? values[values.length - 1] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Возвращает массив ключей\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {boolean} convertKeyToString Конвертировать ключи массива в строку\r\n     * @returns {array}\r\n     */\r\n    static getKeys(array, convertKeyToString = false)\r\n    {\r\n        if (Type.isArray(array))\r\n            return array.map((v, i) => convertKeyToString ? i.toString() : i)\r\n\r\n        if(Type.isObjectLike(array))\r\n            return Object.keys(array)\r\n\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Возвращает первый ключ, или значение по умолчанию\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @param {boolean} convertString Конвертировать ключи массива в строку\r\n     * @returns {mixed}\r\n     */\r\n    static getFirstKey(array, defaultValue = null, convertString = false)\r\n    {\r\n        let keys = this.getKeys(array, convertString)\r\n        return keys.length ? keys[0] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Возвращает последний ключ, или значение по умолчанию\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @param {boolean} convertString Конвертировать ключи массива в строку\r\n     * @returns {mixed}\r\n     */\r\n    static getLastKey(array, defaultValue = null, convertString = false)\r\n    {\r\n        let keys = this.getKeys(array, convertString)\r\n        return keys.length ? keys[keys.length - 1] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Очищает значения массива от null или undefined\r\n     *\r\n     * @param {array} array Массив\r\n     * @returns {array} Очищенный массив\r\n     */\r\n    static clean(array)\r\n    {\r\n        if (Type.isArray(array))\r\n            return array.filter(value => !Type.isNil(value))\r\n\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Проверяет, присутствует ли в массиве или объекте указанный ключ\r\n     *\r\n     * @param {string|number} key Ключ\r\n     * @param {array|object} array Массив или объект\r\n     * @returns {boolean}\r\n     */\r\n    static keyExists(key, array)\r\n    {\r\n        if (Type.isArray(array) || Type.isObjectLike(array))\r\n            return array.hasOwnProperty(key)\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * Проверяет, присутствует ли в массиве или объекте значение\r\n     *\r\n     * @param {mixed} value Значение\r\n     * @param {array|object} array Массив или объект\r\n     * @returns {boolean}\r\n     */\r\n    static isIn(value, array)\r\n    {\r\n        if (Type.isArray(array))\r\n            return array.indexOf(value) >= 0\r\n\r\n        if (Type.isObjectLike(array))\r\n        {\r\n            let keys = Object.keys(array)\r\n            for (let key of keys)\r\n            {\r\n                if (array[key] === value)\r\n                {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     *  Возращает значение элемента, если оно найдено, или значение по умолчанию\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {string|number} key Ключ\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @returns {mixed}\r\n     */\r\n    static getRootValue(array, key, defaultValue)\r\n    {\r\n        return this.keyExists(key, array) ? array[key] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Извлекает значение элемента массива или объекта с заданным ключом\r\n     * Если ключ не существует в массиве или объекте, вместо него будет возвращено значение по умолчанию\r\n     *\r\n     * Ниже приведены некоторые примеры использования,\r\n     *\r\n     * работа с массивом:\r\n     * let array = [\r\n     *      \"первое значение\",\r\n     *      \"второе значение\",\r\n     * ]\r\n     *\r\n     * Arrays.getValue(array, 1)\r\n     * вернет \"второе значение\"\r\n     *\r\n     *\r\n     * работа с объектом:\r\n     * let object = {\r\n     *     one: \"1\",\r\n     *     two: \"2\"\r\n     * }\r\n     *\r\n     * Arrays.getValue(object, 'one')\r\n     * вернет \"1\"\r\n     *\r\n     *\r\n     *\r\n     * работа с функцией:\r\n     * let user = {\r\n     *     firstName: \"Имя\",\r\n     *     lastName: \"Фамилия\"\r\n     * }\r\n     *\r\n     * B.Arrays.getValue(user, function(user, defaultValue) {\r\n     *     return user.firstName + ' ' + user.lastName\r\n     * })\r\n     * вернет \"Имя Фамилия\"\r\n     *\r\n     * использование точечного формата для получения значения встроенного объекта или массива\r\n     *\r\n     * let array = [\r\n     *      [\"Яблоко\", \"Груша\", \"Слива\"],\r\n     *      [\"Апельсин\", \"Мандарин\"],\r\n     * ]\r\n     *\r\n     * Arrays.getValue(array, '0.2') или Arrays.getValue(array, [0, 2])\r\n     * вернет \"Слива\"\r\n     *\r\n     * let object = {\r\n     *      one: {\r\n     *          two: {\r\n     *              three: \"Значение three\"\r\n     *          }\r\n     *      }\r\n     * }\r\n     *\r\n     *\r\n     * Arrays.getValue(object, 'one.two.three') или Arrays.getValue(object, ['one', 'two', 'three'])\r\n     * вернет \"Значение three\"\r\n     *\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {string|number|function|array} key Ключ\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @returns {mixed}\r\n     */\r\n    static getValue(array, key, defaultValue = null)\r\n    {\r\n        if (Type.isFunction(key))\r\n            return key(array, defaultValue)\r\n\r\n        if (Type.isArray(key))\r\n        {\r\n            let lastKey = key.pop()\r\n\r\n            for (let keyPart of key)\r\n            {\r\n                array = this.getValue(array, keyPart)\r\n            }\r\n\r\n            key = lastKey\r\n        }\r\n\r\n        if ((Type.isArray(key) || Type.isObjectLike(key)) && this.keyExists(key, array))\r\n            return array[key]\r\n\r\n        let pos = Text.position(\".\", key)\r\n\r\n        if (pos !== false)\r\n        {\r\n            array = this.getValue(array, Type.toString(key).substr(0, pos), defaultValue)\r\n            key = Type.toString(key).substr(pos + 1)\r\n\r\n            return this.getValue(array, key, defaultValue)\r\n        }\r\n\r\n        return this.keyExists(key, array) ? array[key] : defaultValue\r\n    }\r\n\r\n    /**\r\n     * Удаляет значение массива или объекта по ключу\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {string|number} key Ключ\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @returns {mixed} Возвращает значение элемента массива или объекта, если оно удалилось, в противном случае значение по умолчанию\r\n     */\r\n    static remove(array, key, defaultValue = null)\r\n    {\r\n        if (this.keyExists(key, array))\r\n        {\r\n            let value = array[key]\r\n            if (Type.isArray(array))\r\n                array.splice(array.indexOf(key), 1)\r\n\r\n            if (Type.isObjectLike(array))\r\n                delete array[key]\r\n\r\n            return value\r\n        }\r\n\r\n        return defaultValue\r\n    }\r\n\r\n    /**\r\n     * Удаляет значения массива или объекта по переданному значению\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {string|number} value Ключ\r\n     * @param {mixed} defaultValue Значение по умолчанию\r\n     * @returns {mixed}\r\n     */\r\n    static removeValue(array, value, defaultValue = null)\r\n    {\r\n        let result = defaultValue\r\n        if (Type.isArray(array))\r\n        {\r\n            for (let key in array)\r\n            {\r\n                if (array.hasOwnProperty(key))\r\n                {\r\n                    let val = array[key]\r\n\r\n                    if (val === value)\r\n                    {\r\n                        result = key\r\n                        this.remove(array, key)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (Type.isObjectLike(array))\r\n        {\r\n            let keys = Object.keys(array)\r\n            for (let key of keys)\r\n            {\r\n                if (array[key] === value)\r\n                {\r\n                    result = key\r\n                    this.remove(array, key)\r\n                }\r\n            }\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    /**\r\n     * Возвращает значения указанного столбца в массиве.\r\n     * Входной массив должен быть многомерным или массивом объектов.\r\n     *\r\n     * Например,\r\n     * let array = [\r\n     *      {id: '123', data: 'abc'}\r\n     *      {id: '345', data: 'def'}\r\n     * ];\r\n     *\r\n     * let result = Arrays.getColumn(array, 'id');\r\n     * в результате получается: ['123', '345']\r\n     *\r\n     * использование анонимной функции\r\n     * let result = Arrays.getColumn(array, function(element), {\r\n     *    return element.id;\r\n     * });\r\n     *\r\n     * @param {array|object} array Массив или объект\r\n     * @param {number|string|function} name Название ключа столбца\r\n     * @param {boolean} keepKeys Если false, то результирующий массив будет переиндексирован целыми числами.\r\n     * @returns {array|object} Список значений столбцов\r\n     */\r\n    static getColumn(array, name, keepKeys = true)\r\n    {\r\n        let result = []\r\n        let resultObject = {}\r\n\r\n        if (Type.isObjectLike(array))\r\n        {\r\n            let keys = this.getKeys(array);\r\n\r\n            for (let key of keys)\r\n            {\r\n                let value = array[key]\r\n                if (keepKeys)\r\n                {\r\n                    resultObject[key] = this.getValue(value, name)\r\n                }\r\n                else\r\n                {\r\n                    result.push(this.getValue(value, name))\r\n                }\r\n            }\r\n        }\r\n        else if (Type.isArray(array))\r\n        {\r\n            for (let value of array)\r\n            {\r\n                result.push(this.getValue(value, name))\r\n            }\r\n        }\r\n\r\n        return keepKeys ? resultObject : result\r\n    }\r\n}","import Type from \"./type\"\r\n\r\nexport default class Event\r\n{\r\n    constructor()\r\n    {\r\n        /**\r\n         * Наименование события. Обработчики могут использовать\r\n         * @type {string}\r\n         */\r\n        this.name = \"\"\r\n\r\n        /**\r\n         * Определяет, является ли событие обработанным. Когда установлено в `true`,\r\n         * @type {boolean}\r\n         */\r\n        this.handled = false\r\n\r\n        /**\r\n         * Данные, которые приходят из [[Event.on()]] когда прикрепляется обработчик события.\r\n         * @type {*}\r\n         */\r\n        this.data = {}\r\n\r\n        /**\r\n         * Содержит все зарегистрированные события.\r\n         * @type {WeakMap}\r\n         */\r\n        this.events = new WeakMap()\r\n    }\r\n\r\n    /**\r\n     * Получает массив событий из WeakMap\r\n     * @param {Object} eventObject\r\n     * @returns {Object}\r\n     */\r\n    _get(eventObject)\r\n    {\r\n        return this.events.get(eventObject) || {}\r\n    }\r\n\r\n    /**\r\n     * Прикрепляет обработчик события к объекту.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|null} eventHandler\r\n     * @param {*} data\r\n     * @param {boolean|null} append\r\n     */\r\n    on(eventObject, eventName, eventHandler, data = null, append = true)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            append = Type.isNull(data) ? true : data\r\n            data = eventHandler || null\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (\r\n            !Type.isFunction(eventHandler) ||\r\n            Type.isEmpty(eventName) ||\r\n            !Type.isObject(eventObject)\r\n        )\r\n            return\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (!Type.isArray(events[eventName]))\r\n            events[eventName] = []\r\n\r\n        if (!!append)\r\n            events[eventName].push([eventHandler, data])\r\n        else\r\n            events[eventName].unshift([eventHandler, data])\r\n\r\n        this.events.set(eventObject, events)\r\n    }\r\n\r\n    /**\r\n     * Открепляет обработчик события от объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|undefined} eventHandler\r\n     * @returns {boolean}\r\n     */\r\n    off(eventObject, eventName, eventHandler)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (Type.isNull(eventHandler))\r\n        {\r\n            delete events[eventName]\r\n            return true\r\n        }\r\n\r\n        let removed = false\r\n\r\n        if (events && Type.isArray(events[eventName]))\r\n        {\r\n            events[eventName].forEach(function (event, i) {\r\n                if (event[0] === eventHandler)\r\n                {\r\n                    events[eventName].splice(i, 1)\r\n                    removed = true\r\n                }\r\n            })\r\n        }\r\n\r\n        return removed\r\n    }\r\n\r\n    /**\r\n     * Вызывает событие объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Object} eventName\r\n     * @param {Array|null} eventParams\r\n     * @param {Event} event\r\n     */\r\n    trigger(eventObject, eventName, eventParams = null, event = null)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            event = eventParams || null\r\n            eventParams = eventName || []\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (eventParams === null)\r\n            eventParams = []\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let globalEvents = this._get(window)\r\n        let globalHandlers = globalEvents && Type.isArray(globalEvents[eventName]) ? globalEvents[eventName] : []\r\n        let objectHandlers = []\r\n\r\n        if (eventObject !== window && Type.isObject(eventObject))\r\n        {\r\n            let objectEvents = this._get(eventObject)\r\n            if (objectEvents && Type.isArray(objectEvents[eventName]))\r\n            {\r\n                objectHandlers = objectEvents[eventName]\r\n            }\r\n        }\r\n\r\n        let handlers = globalHandlers.concat(objectHandlers)\r\n\r\n        if (event === null)\r\n            event = new Event()\r\n\r\n        event.handled = false\r\n        event.name = eventName\r\n\r\n        for (let i = 0; i <= handlers.length - 1; i++)\r\n        {\r\n            let handler = handlers[i]\r\n\r\n            event.data = handler[1]\r\n\r\n            if (eventParams.indexOf(event) < 0)\r\n                eventParams.unshift(event)\r\n\r\n            if (Type.isFunction(handler[0]))\r\n                handler[0].apply(eventObject, eventParams)\r\n\r\n            if (event.handled)\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n}","import Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Event from './lib/event'\r\nimport Text from './lib/text'\r\n\r\nexport const type = {\r\n    ...Object.getOwnPropertyNames(Type)\r\n        .filter(key => !['name', 'length', 'prototype', 'caller', 'arguments'].includes(key))\r\n        .reduce((acc, key) => {\r\n            acc[key] = Type[key]\r\n            return acc\r\n        }, {}),\r\n    isNotEmptyString: value => Type.isString(value) && value !== '',\r\n    isNotEmptyObject: value => Type.isObjectLike(value) && Object.keys(value).length > 0,\r\n    isMapKey: Type.isObject,\r\n    stringToInt: (value) => {\r\n        const parsed = parseInt(value)\r\n        return !Number.isNaN(parsed) ? parsed : 0\r\n    },\r\n}\r\n\r\nexport const browser = {\r\n    IsOpera: Browser.isOpera,\r\n    IsIE: Browser.isIE,\r\n    IsIE6: Browser.isIE6,\r\n    IsIE7: Browser.isIE7,\r\n    IsIE8: Browser.isIE8,\r\n    IsIE9: Browser.isIE9,\r\n    IsIE10: Browser.isIE10,\r\n    IsIE11: Browser.isIE11,\r\n    IsSafari: Browser.isSafari,\r\n    IsFirefox: Browser.isFirefox,\r\n    IsChrome: Browser.isChrome,\r\n    DetectIeVersion: Browser.detectIEVersion,\r\n    IsMac: Browser.isMac,\r\n    IsAndroid: Browser.isAndroid,\r\n    isIPad: Browser.isIPad,\r\n    isIPhone: Browser.isIPhone,\r\n    IsIOS: Browser.isIOS,\r\n    IsMobile: Browser.isMobile,\r\n    isRetina: Browser.isRetina,\r\n    IsDoctype: Browser.isDoctype,\r\n    SupportLocalStorage: Browser.isLocalStorageSupported,\r\n    addGlobalClass: Browser.addGlobalClass,\r\n    DetectAndroidVersion: Browser.detectAndroidVersion,\r\n    isPropertySupported: Browser.isPropertySupported,\r\n    addGlobalFeatures: Browser.addGlobalFeatures,\r\n}\r\n\r\nexport const event = new Event()\r\n\r\nexport const {\r\n    on,\r\n    off,\r\n    trigger,\r\n} = event\r\n\r\nexport const {\r\n    getRandom,\r\n    replaceMacros,\r\n} = Text\r\n","import './internal/b'\r\n\r\nimport Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Text from './lib/text'\r\nimport Arrays from './lib/arrays'\r\n\r\nexport {\r\n    Type,\r\n    Browser,\r\n    Text,\r\n    Arrays,\r\n}\r\n\r\nexport * from './libs'\r\n\r\nif (global && global.window && global.window.B)\r\n{\r\n    Object.assign(global.window.B, exports)\r\n}",null]}