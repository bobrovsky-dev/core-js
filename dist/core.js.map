{"version":3,"sources":["../src/internal/wrap-start.js","../src/internal/b.js","../src/lib/type.js","../src/lib/browser.js","../src/lib/text.js","../src/lib/arrays.js","../src/lib/event.js","../src/libs.js","../src/core.js","../src/internal/wrap-end.js"],"names":["bTmp","window","B","Object","keys","forEach","key","exports","Type","value","isArray","isString","length","isNumber","isBoolean","isObject","isEmpty","getOwnPropertyNames","isNil","type","prototype","toString","call","map","other","isSymbol","result","isObjectLike","proto","getPrototypeOf","ctor","hasOwnProperty","constructor","Function","trueValues","transformedValue","toLowerCase","includes","isNaN","parsedValue","parseFloat","toNumber","parseInt","isInteger","undefined","Array","isPlainObject","size","isFunction","slice","isBlob","lastModifiedDate","lastModified","name","FormData","UA","navigator","userAgent","Browser","document","isOpera","documentMode","isSafari","isFirefox","isChrome","rv","MSStream","ActiveXObject","isIE10","isIE9","isIE","appName","re","RegExp","res","match","isArrayLike","exec","detectIEVersion","isIPad","isIPhone","isAndroid","devicePixelRatio","target","doc","compatMode","documentElement","clientHeight","localStorage","setItem","removeItem","e","jsProperty","returnCSSName","getCssName","propertyName","replace","args","getJsName","cssName","reg","test","toUpperCase","property","bReturnCSSName","ucProperty","charAt","props","join","properties","split","obj","body","i","prop","style","lowerProp","substr","prefix","reEscape","reUnescape","escapeEntities","unescapeEntities","Text","item","Math","random","str","regex","letter","capitalize","toCamelCase","matches","x","symbol","string","indexOf","trim","suffix","rules","tagStart","tagEnd","macros","flag","separator","skipEmpty","filter","offset","needle","haystack","insensitive","last","pos","value1","value2","toInteger","cut","position","Arrays","array","clean","getValuesObject","convertString","v","getKeysObject","object","values","Event","handled","data","events","WeakMap","eventObject","get","eventName","eventHandler","append","isNull","_get","push","unshift","set","removed","event","splice","eventParams","globalEvents","globalHandlers","objectHandlers","objectEvents","handlers","concat","handler","apply","reduce","acc","isNotEmptyString","isNotEmptyObject","isMapKey","stringToInt","parsed","Number","browser","IsOpera","IsIE","IsIE6","isIE6","IsIE7","isIE7","IsIE8","isIE8","IsIE9","IsIE10","IsIE11","isIE11","IsSafari","IsFirefox","IsChrome","DetectIeVersion","IsMac","isMac","IsAndroid","IsIOS","isIOS","IsMobile","isMobile","isRetina","IsDoctype","isDoctype","SupportLocalStorage","isLocalStorageSupported","addGlobalClass","DetectAndroidVersion","detectAndroidVersion","isPropertySupported","addGlobalFeatures","on","off","trigger","getRandom","replaceMacros","global","assign"],"mappings":"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","file":"core.js.map","sourcesContent":[null,"let bTmp = window.B\r\n\r\nwindow.B = {}\r\n\r\nif (bTmp)\r\n{\r\n    Object.keys(bTmp).forEach(key => {\r\n        window.B[key] = bTmp[key]\r\n    })\r\n}\r\n\r\nexports = window.B","export default class Type\r\n{\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isEmpty(value)\r\n    {\r\n        if (this.isArray(value) || this.isString(value))\r\n            return value.length === 0\r\n\r\n        if (this.isNumber(value))\r\n            return value === 0\r\n\r\n        if (this.isBoolean(value))\r\n            return value === false\r\n\r\n        if (this.isObject(value))\r\n            return this.isEmpty(Object.getOwnPropertyNames(value))\r\n\r\n        return this.isNil(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isString(value)\r\n    {\r\n        return typeof value === 'string'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isSymbol(value)\r\n    {\r\n        const type = typeof value\r\n        return type == 'symbol' || (type === 'object' && value != null && Object.prototype.toString.call(value) == '[object Symbol]')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {string}\r\n     */\r\n    static toString(value)\r\n    {\r\n        if (this.isString(value))\r\n            return value\r\n\r\n        if (this.isNil(value) || this.isObject(value))\r\n            return ''\r\n\r\n        if (this.isBoolean(value))\r\n            return !!value ? '1' : ''\r\n\r\n        if (this.isArray(value)) {\r\n            return `${value.map((other) => other == null ? other : this.toString(other))}`\r\n        }\r\n\r\n        if (this.isSymbol(value))\r\n            return value.toString()\r\n\r\n        const result = `${value}`\r\n\r\n        return (result == '0' && (1 / value) == -(1 / 0)) ? '-0' : result\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFunction(value)\r\n    {\r\n        return typeof value === 'function'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObject(value)\r\n    {\r\n        return !!value && (typeof value === 'object' || typeof value === 'function')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObjectLike(value)\r\n    {\r\n        return !!value && typeof value === 'object'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPlainObject(value)\r\n    {\r\n        if (!this.isObjectLike(value) || Object.prototype.toString.call(value) !== '[object Object]')\r\n        {\r\n            return false\r\n        }\r\n\r\n        const proto = Object.getPrototypeOf(value)\r\n        if (proto === null)\r\n        {\r\n            return true\r\n        }\r\n\r\n        const ctor = proto.hasOwnProperty('constructor') && proto.constructor\r\n\r\n        return (\r\n            typeof ctor === 'function' &&\r\n            Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBoolean(value)\r\n    {\r\n        return value === true || value === false\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @param {array} trueValues\r\n     * @returns {boolean}\r\n     */\r\n    static toBoolean(value, trueValues = [])\r\n    {\r\n        const transformedValue = this.isString(value) ? value.toLowerCase() : value\r\n        return ['true', 'y', '1', 1, true, ...trueValues].includes(transformedValue)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNumber(value)\r\n    {\r\n        return typeof value === 'number' && !isNaN(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toNumber(value)\r\n    {\r\n        let parsedValue = parseFloat(value)\r\n        return this.isNumber(parsedValue) ? parsedValue : 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isInteger(value)\r\n    {\r\n        return this.isNumber(value) && (value % 1) === 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toInteger(value)\r\n    {\r\n        return this.toNumber(parseInt(value, 10))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFloat(value)\r\n    {\r\n        return this.isNumber(value) && !this.isInteger(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @returns {number}\r\n     */\r\n    static toFloat(value)\r\n    {\r\n        return parseFloat(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNil(value)\r\n    {\r\n        return value === null || value === undefined\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isArray(value)\r\n    {\r\n        return !this.isNil(value) && Array.isArray(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDate(value)\r\n    {\r\n        return this.isObjectLike(value) && Object.prototype.toString.call(value) === '[object Date]'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDomNode(value)\r\n    {\r\n        return this.isObjectLike(value) && !this.isPlainObject(value) && 'nodeType' in value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPrototype(value)\r\n    {\r\n        return (\r\n            (((typeof (value && value.constructor) === 'function') && value.constructor.prototype) || Object.prototype) === value\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNull(value)\r\n    {\r\n        return value === null\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isUndefined(value)\r\n    {\r\n        return typeof value === 'undefined'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBlob(value)\r\n    {\r\n        return (\r\n            this.isObjectLike(value)\r\n            && this.isNumber(value.size)\r\n            && this.isString(value.type)\r\n            && this.isFunction(value.slice)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFile(value)\r\n    {\r\n        return (\r\n            this.isBlob(value)\r\n            && this.isObjectLike(value.lastModifiedDate)\r\n            && this.isNumber(value.lastModified)\r\n            && this.isString(value.name)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFormData(value)\r\n    {\r\n        return value instanceof FormData\r\n    }\r\n}","import Type from './type'\r\n\r\nconst UA = navigator.userAgent.toLowerCase()\r\n\r\nexport default class Browser\r\n{\r\n\tstatic isOpera()\r\n\t{\r\n\t\treturn UA.includes('opera')\r\n\t}\r\n\r\n\tstatic isIE()\r\n\t{\r\n\t\treturn ('attachEvent' in document) && !Browser.isOpera()\r\n\t}\r\n\r\n\tstatic isIE6()\r\n\t{\r\n\t\treturn UA.includes('msie 6')\r\n\t}\r\n\r\n\tstatic isIE7()\r\n\t{\r\n\t\treturn UA.includes('msie 7')\r\n\t}\r\n\r\n\tstatic isIE8()\r\n\t{\r\n\t\treturn UA.includes('msie 8')\r\n\t}\r\n\r\n\tstatic isIE9()\r\n\t{\r\n\t\treturn ('documentMode' in document) && document.documentMode >= 9\r\n\t}\r\n\r\n\tstatic isIE10()\r\n\t{\r\n\t\treturn ('documentMode' in document) && document.documentMode >= 10\r\n\t}\r\n\r\n\tstatic isSafari()\r\n\t{\r\n\t\treturn UA.includes('webkit')\r\n\t}\r\n\r\n\tstatic isFirefox()\r\n\t{\r\n\t\treturn UA.includes('firefox')\r\n\t}\r\n\r\n\tstatic isChrome()\r\n\t{\r\n\t\treturn UA.includes('chrome')\r\n\t}\r\n\r\n\tstatic detectIEVersion()\r\n\t{\r\n\t\tif (Browser.isOpera() || Browser.isSafari() || Browser.isFirefox() || Browser.isChrome())\r\n\t\t{\r\n\t\t\treturn -1\r\n\t\t}\r\n\r\n\t\tlet rv = -1\r\n\r\n\t\tif (\r\n\t\t\t!!(window.MSStream)\r\n\t\t\t&& !(window.ActiveXObject)\r\n\t\t\t&& ('ActiveXObject' in window)\r\n\t\t)\r\n\t\t{\r\n\t\t\trv = 11\r\n\t\t}\r\n\t\telse if (Browser.isIE10())\r\n\t\t{\r\n\t\t\trv = 10\r\n\t\t}\r\n\t\telse if (Browser.isIE9())\r\n\t\t{\r\n\t\t\trv = 9\r\n\t\t}\r\n\t\telse if (Browser.isIE())\r\n\t\t{\r\n\t\t\trv = 8\r\n\t\t}\r\n\r\n\t\tif (rv === -1 || rv === 8)\r\n\t\t{\r\n\t\t\tif (navigator.appName === 'Microsoft Internet Explorer')\r\n\t\t\t{\r\n\t\t\t\tconst re = new RegExp('MSIE ([0-9]+[.0-9]*)')\r\n\t\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\trv = parseFloat(res[1])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (navigator.appName === 'Netscape')\r\n\t\t\t{\r\n\t\t\t\trv = 11\r\n\t\t\t\tconst re = new RegExp('Trident/.*rv:([0-9]+[.0-9]*)')\r\n\r\n\t\t\t\tif (re.exec(navigator.userAgent) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trv = parseFloat(res[1])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rv\r\n\t}\r\n\r\n\tstatic isIE11()\r\n\t{\r\n\t\treturn Browser.detectIEVersion() >= 11\r\n\t}\r\n\r\n\tstatic isMac()\r\n\t{\r\n\t\treturn UA.includes('macintosh')\r\n\t}\r\n\r\n\tstatic isAndroid()\r\n\t{\r\n\t\treturn UA.includes('android')\r\n\t}\r\n\r\n\tstatic isIPad()\r\n\t{\r\n\t\treturn UA.includes('ipad;')\r\n\t}\r\n\r\n\tstatic isIPhone()\r\n\t{\r\n\t\treturn UA.includes('iphone;')\r\n\t}\r\n\r\n\tstatic isIOS()\r\n\t{\r\n\t\treturn Browser.isIPad() || Browser.isIPhone()\r\n\t}\r\n\r\n\tstatic isMobile()\r\n\t{\r\n\t\treturn (\r\n\t\t\tBrowser.isIPhone()\r\n\t\t\t|| Browser.isIPad()\r\n\t\t\t|| Browser.isAndroid()\r\n\t\t\t|| UA.includes('mobile')\r\n\t\t\t|| UA.includes('touch')\r\n\t\t)\r\n\t}\r\n\r\n\tstatic isRetina()\r\n\t{\r\n\t\treturn window.devicePixelRatio && window.devicePixelRatio >= 2\r\n\t}\r\n\r\n\tstatic isDoctype(target)\r\n\t{\r\n\t\tconst doc = target || document\r\n\r\n\t\tif (doc.compatMode)\r\n\t\t{\r\n\t\t\treturn (doc.compatMode === 'CSS1Compat')\r\n\t\t}\r\n\r\n\t\treturn (doc.documentElement && doc.documentElement.clientHeight)\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tlocalStorage.setItem('test', 'test')\r\n\t\t\tlocalStorage.removeItem('test')\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tcatch (e)\r\n\t\t{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tstatic detectAndroidVersion()\r\n\t{\r\n\t\tconst re = new RegExp('Android ([0-9]+[.0-9]*)')\r\n\r\n\t\tif (re.exec(navigator.userAgent) != null)\r\n\t\t{\r\n\t\t\tconst res = navigator.userAgent.match(re)\r\n\r\n\t\t\tif (Type.isArrayLike(res) && res.length > 0)\r\n\t\t\t{\r\n\t\t\t\treturn parseFloat(res[1])\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 0\r\n\t}\r\n\r\n\tstatic isPropertySupported(jsProperty, returnCSSName)\r\n\t{\r\n\t\tif (jsProperty === '')\r\n\t\t{\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction getCssName(propertyName)\r\n\t\t{\r\n\t\t\treturn propertyName.replace(/([A-Z])/g, (...args) => `-${args[1].toLowerCase()}`)\r\n\t\t}\r\n\r\n\t\tfunction getJsName(cssName)\r\n\t\t{\r\n\t\t\tconst reg = /(\\\\-([a-z]))/g\r\n\r\n\t\t\tif (reg.test(cssName))\r\n\t\t\t{\r\n\t\t\t\treturn cssName.replace(reg, (...args) => args[2].toUpperCase())\r\n\t\t\t}\r\n\r\n\t\t\treturn cssName\r\n\t\t}\r\n\r\n\t\tconst property = jsProperty.includes('-') ? getJsName(jsProperty) : jsProperty\r\n\t\tconst bReturnCSSName = !!returnCSSName\r\n\t\tconst ucProperty = property.charAt(0).toUpperCase() + property.slice(1)\r\n\t\tconst props = ['Webkit', 'Moz', 'O', 'ms'].join(`${ucProperty} `)\r\n\t\tconst properties = `${property} ${props} ${ucProperty}`.split(' ')\r\n\r\n\t\tconst obj = document.body || document.documentElement\r\n\r\n\t\tfor (let i = 0; i < properties.length; i += 1)\r\n\t\t{\r\n\t\t\tconst prop = properties[i]\r\n\r\n\t\t\tif (obj && 'style' in obj && prop in obj.style)\r\n\t\t\t{\r\n\t\t\t\tconst lowerProp = prop.substr(0, prop.length - property.length).toLowerCase()\r\n\t\t\t\tconst prefix = prop === property ? '' : `-${lowerProp}-`\r\n\t\t\t\treturn bReturnCSSName ? prefix + getCssName(property) : prop\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n}","import Type from './type'\r\n\r\nconst reEscape = /[&<>'\"]/g\r\n\r\nconst reUnescape = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g\r\n\r\nconst escapeEntities = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&#39;',\r\n    '\"': '&quot;',\r\n}\r\n\r\nconst unescapeEntities = {\r\n    '&amp;': '&',\r\n    '&#38;': '&',\r\n    '&lt;': '<',\r\n    '&#60;': '<',\r\n    '&gt;': '>',\r\n    '&#62;': '>',\r\n    '&apos;': \"'\",\r\n    '&#39;': \"'\",\r\n    '&quot;': '\"',\r\n    '&#34;': '\"',\r\n}\r\n\r\n\r\nexport default class Text\r\n{\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static encode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reEscape, item => escapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static decode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reUnescape, item => unescapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} length\r\n     * @returns {string}\r\n     */\r\n    static getRandom(length = 8)\r\n    {\r\n        return [...Array(length)].map(() => (~~(Math.random() * 36)).toString(36)).join('');\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toCamelCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const regex = /[-_\\s]+(.)?/g\r\n        if (!regex.test(str))\r\n        {\r\n            return str.match(/^[A-Z]+$/) ? str.toLowerCase() : str[0].toLowerCase() + str.slice(1)\r\n        }\r\n\r\n        str = str.toLowerCase()\r\n        str = str.replace(regex, function(match, letter) {\r\n            return letter ? letter.toUpperCase() : ''\r\n        });\r\n\r\n        return str[0].toLowerCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toPascalCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return this.capitalize(this.toCamelCase(str))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toKebabCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const matches = str.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\r\n        if (!matches)\r\n        {\r\n            return str\r\n        }\r\n\r\n        return matches.map(x => x.toLowerCase()).join('-')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static capitalize(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return str[0].toUpperCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} symbol\r\n     * @param {string} string\r\n     * @returns {boolean}\r\n     */\r\n    static isIn(symbol, string)\r\n    {\r\n        string = Type.toString(string)\r\n        return string.indexOf(Type.toString(symbol)) !== -1\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static trim(value)\r\n    {\r\n        if (Type.isString(value))\r\n            return value.trim()\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {number} length\r\n     * @param {string} suffix\r\n     * @returns {string}\r\n     */\r\n    static truncate(string, length, suffix = \"...\")\r\n    {\r\n        string = Type.toString(string)\r\n        return string.length > length ? this.trim(string.substr(0, length)) + suffix : string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} tagStart\r\n     * @param {string} tagEnd\r\n     * @returns {string}\r\n     */\r\n    static replaceMacros(string, rules, tagStart = \"#\", tagEnd = \"#\")\r\n    {\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            let macros = {}\r\n\r\n            Object.keys(rules).forEach(key => {\r\n                macros[tagStart + key + tagEnd] = rules[key]\r\n            })\r\n\r\n            string = Text.replace(string, macros)\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} flag\r\n     * @returns {string}\r\n     */\r\n    static replace(string, rules, flag = 'g')\r\n    {\r\n        string = Type.toString(string)\r\n\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            Object.keys(rules).forEach(key => {\r\n                string = string.replace(new RegExp(key, flag), rules[key])\r\n            })\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static nl2br(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/([^>])\\n/g, '$1<br/>')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripTags(value)\r\n    {\r\n        if (!value || !value.split)\r\n            return value\r\n\r\n        return value.split(/<[^>]+>/g).join('')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripPhpTags(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/<\\?(.|[\\r\\n])*?\\?>/g, '')\r\n    }\r\n\r\n    /**\r\n     * Взрывает строку в массив, опционально обрезает значения и пропускает пустые\r\n     *\r\n     * @param {string} value\r\n     * @param {string} separator\r\n     * @param {boolean} trim\r\n     * @param {boolean} skipEmpty\r\n     * @returns {array}\r\n     */\r\n    static explode(value, separator = ',', trim = true, skipEmpty = false)\r\n    {\r\n        value = Type.toString(value)\r\n        let result = value.split(separator)\r\n        if (!!trim)\r\n        {\r\n            result = result.map(i => this.trim(i))\r\n        }\r\n        if (skipEmpty)\r\n        {\r\n            result = result.filter(i => i !== \"\")\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    /**\r\n     * Метод для обрезания строк.\r\n     *\r\n     * @param {string} value\r\n     * @param {number} offset\r\n     * @param {number|null} length\r\n     * @returns {string}\r\n     */\r\n    static cut(value, offset, length = null)\r\n    {\r\n        value = Type.toString(value)\r\n        return value.substr(offset, length)\r\n    }\r\n\r\n    /**\r\n     * Возвращает позицию подстроки в строке.\r\n     *\r\n     * @param {string} needle Подстрока.\r\n     * @param {string} haystack Строка.\r\n     * @param {number} offset Смещение.\r\n     * @param {boolean} insensitive Нечювствительность к регистру.\r\n     * @param {boolean} last Искать последнюю подстроку.\r\n     * @returns {number|false} Позиция, с которой начинается первая или последняя найденная подстрока или `false`, если подстрока не найдена.\r\n     */\r\n    static position(needle, haystack, offset = 0, insensitive = false, last = false)\r\n    {\r\n        needle = Type.toString(needle)\r\n        haystack = Type.toString(haystack)\r\n\r\n        if (insensitive)\r\n        {\r\n            haystack = haystack.toLowerCase()\r\n            needle = needle.toLowerCase()\r\n        }\r\n\r\n        let pos = haystack.indexOf(needle, offset)\r\n\r\n        if (last)\r\n        {\r\n            offset = pos\r\n\r\n            while (true)\r\n            {\r\n                let res = haystack.indexOf(needle, offset += 1)\r\n\r\n                if (res == -1) break\r\n\r\n                pos = res\r\n            }\r\n        }\r\n\r\n        return pos >= 0 ? pos : false\r\n    }\r\n\r\n    /**\r\n     * Сравнивкт две строки\r\n     *\r\n     * @param {string} value1 Первая строка для сравнения.\r\n     * @param {string} value2 Вторая строка для сравнения.\r\n     * @param {number} length Количество сравневаемых символов. Если 0, то сравнивает всю строку.\r\n     * @param {boolean} insensitive Нечювствительность к регистру.\r\n     * @returns {boolean} Результат сравнения.\r\n     */\r\n    static compare(value1, value2, length = 0, insensitive = false)\r\n    {\r\n        value1 = Type.toString(value1)\r\n        value2 = Type.toString(value2)\r\n        length = Type.toInteger(length)\r\n\r\n        if (length > 0)\r\n        {\r\n            value1 = this.cut(value1, 0, length)\r\n            value2 = this.cut(value2, 0, length)\r\n        }\r\n\r\n        return this.position(value1, value2, 0, insensitive, false) === 0\r\n    }\r\n}","import Type from \"./type\"\r\n\r\nexport default class Arrays\r\n{\r\n    /**\r\n     * Возвращает значения массива с новыми ключами\r\n     *\r\n     * @param {array|object} array\r\n     * @returns {array}\r\n     */\r\n    static getValues(array)\r\n    {\r\n        if (Type.isArray(array))\r\n            return this.clean(array)\r\n\r\n        return this.getValuesObject(array)\r\n    }\r\n\r\n    /**\r\n     * Возвращает массив ключей массива\r\n     *\r\n     * @param {array|object} array\r\n     * @param {boolean} convertString\r\n     * @returns {array}\r\n     */\r\n    static getKeys(array, convertString = false)\r\n    {\r\n        if (Type.isArray(array))\r\n            return this.clean(array.map((v, i) => convertString ? i.toString() : i))\r\n\r\n        return this.getKeysObject(array)\r\n    }\r\n\r\n    /**\r\n     * Возвращает массив значений объекта\r\n     *\r\n     * @param {object} object\r\n     * @returns {array}\r\n     */\r\n    static getValuesObject(object)\r\n    {\r\n        if(Type.isObjectLike(object))\r\n            return this.clean(Object.values(object))\r\n\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Возвращает массив ключей объекта\r\n     *\r\n     * @param {object} object\r\n     * @returns {array}\r\n     */\r\n    static getKeysObject(object)\r\n    {\r\n        if(Type.isObjectLike(object))\r\n            return this.clean(Object.keys(object))\r\n\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Очищает значения массива от null или undefined\r\n     *\r\n     * @param {array} array\r\n     * @returns {array}\r\n     */\r\n    static clean(array)\r\n    {\r\n        if (Type.isArray(array))\r\n            return array.filter(value => !Type.isNil(value))\r\n\r\n        return []\r\n    }\r\n}","import Type from \"./type\"\r\n\r\nexport default class Event\r\n{\r\n    constructor()\r\n    {\r\n        /**\r\n         * Наименование события. Обработчики могут использовать\r\n         * @type {string}\r\n         */\r\n        this.name = \"\"\r\n\r\n        /**\r\n         * Определяет, является ли событие обработанным. Когда установлено в `true`,\r\n         * @type {boolean}\r\n         */\r\n        this.handled = false\r\n\r\n        /**\r\n         * Данные, которые приходят из [[Event.on()]] когда прикрепляется обработчик события.\r\n         * @type {*}\r\n         */\r\n        this.data = {}\r\n\r\n        /**\r\n         * Содержит все зарегистрированные события.\r\n         * @type {WeakMap}\r\n         */\r\n        this.events = new WeakMap()\r\n    }\r\n\r\n    /**\r\n     * Получает массив событий из WeakMap\r\n     * @param {Object} eventObject\r\n     * @returns {Object}\r\n     */\r\n    _get(eventObject)\r\n    {\r\n        return this.events.get(eventObject) || {}\r\n    }\r\n\r\n    /**\r\n     * Прикрепляет обработчик события к объекту.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|null} eventHandler\r\n     * @param {*} data\r\n     * @param {boolean|null} append\r\n     */\r\n    on(eventObject, eventName, eventHandler, data = null, append = true)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            append = Type.isNull(data) ? true : data\r\n            data = eventHandler || null\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (\r\n            !Type.isFunction(eventHandler) ||\r\n            Type.isEmpty(eventName) ||\r\n            !Type.isObject(eventObject)\r\n        )\r\n            return\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (!Type.isArray(events[eventName]))\r\n            events[eventName] = []\r\n\r\n        if (!!append)\r\n            events[eventName].push([eventHandler, data])\r\n        else\r\n            events[eventName].unshift([eventHandler, data])\r\n\r\n        this.events.set(eventObject, events)\r\n    }\r\n\r\n    /**\r\n     * Открепляет обработчик события от объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|undefined} eventHandler\r\n     * @returns {boolean}\r\n     */\r\n    off(eventObject, eventName, eventHandler)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (Type.isNull(eventHandler))\r\n        {\r\n            delete events[eventName]\r\n            return true\r\n        }\r\n\r\n        let removed = false\r\n\r\n        if (events && Type.isArray(events[eventName]))\r\n        {\r\n            events[eventName].forEach(function (event, i) {\r\n                if (event[0] === eventHandler)\r\n                {\r\n                    events[eventName].splice(i, 1)\r\n                    removed = true\r\n                }\r\n            })\r\n        }\r\n\r\n        return removed\r\n    }\r\n\r\n    /**\r\n     * Вызывает событие объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Object} eventName\r\n     * @param {Array|null} eventParams\r\n     * @param {Event} event\r\n     */\r\n    trigger(eventObject, eventName, eventParams = null, event = null)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            event = eventParams || null\r\n            eventParams = eventName || []\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (eventParams === null)\r\n            eventParams = []\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let globalEvents = this._get(window)\r\n        let globalHandlers = globalEvents && Type.isArray(globalEvents[eventName]) ? globalEvents[eventName] : []\r\n        let objectHandlers = []\r\n\r\n        if (eventObject !== window && Type.isObject(eventObject))\r\n        {\r\n            let objectEvents = this._get(eventObject)\r\n            if (objectEvents && Type.isArray(objectEvents[eventName]))\r\n            {\r\n                objectHandlers = objectEvents[eventName]\r\n            }\r\n        }\r\n\r\n        let handlers = globalHandlers.concat(objectHandlers)\r\n\r\n        if (event === null)\r\n            event = new Event()\r\n\r\n        event.handled = false\r\n        event.name = eventName\r\n\r\n        for (let i = 0; i <= handlers.length - 1; i++)\r\n        {\r\n            let handler = handlers[i]\r\n\r\n            event.data = handler[1]\r\n\r\n            if (eventParams.indexOf(event) < 0)\r\n                eventParams.unshift(event)\r\n\r\n            if (Type.isFunction(handler[0]))\r\n                handler[0].apply(eventObject, eventParams)\r\n\r\n            if (event.handled)\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n}","import Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Event from './lib/event'\r\nimport Text from './lib/text'\r\n\r\nexport const type = {\r\n    ...Object.getOwnPropertyNames(Type)\r\n        .filter(key => !['name', 'length', 'prototype', 'caller', 'arguments'].includes(key))\r\n        .reduce((acc, key) => {\r\n            acc[key] = Type[key]\r\n            return acc\r\n        }, {}),\r\n    isNotEmptyString: value => Type.isString(value) && value !== '',\r\n    isNotEmptyObject: value => Type.isObjectLike(value) && Object.keys(value).length > 0,\r\n    isMapKey: Type.isObject,\r\n    stringToInt: (value) => {\r\n        const parsed = parseInt(value)\r\n        return !Number.isNaN(parsed) ? parsed : 0\r\n    },\r\n}\r\n\r\nexport const browser = {\r\n    IsOpera: Browser.isOpera,\r\n    IsIE: Browser.isIE,\r\n    IsIE6: Browser.isIE6,\r\n    IsIE7: Browser.isIE7,\r\n    IsIE8: Browser.isIE8,\r\n    IsIE9: Browser.isIE9,\r\n    IsIE10: Browser.isIE10,\r\n    IsIE11: Browser.isIE11,\r\n    IsSafari: Browser.isSafari,\r\n    IsFirefox: Browser.isFirefox,\r\n    IsChrome: Browser.isChrome,\r\n    DetectIeVersion: Browser.detectIEVersion,\r\n    IsMac: Browser.isMac,\r\n    IsAndroid: Browser.isAndroid,\r\n    isIPad: Browser.isIPad,\r\n    isIPhone: Browser.isIPhone,\r\n    IsIOS: Browser.isIOS,\r\n    IsMobile: Browser.isMobile,\r\n    isRetina: Browser.isRetina,\r\n    IsDoctype: Browser.isDoctype,\r\n    SupportLocalStorage: Browser.isLocalStorageSupported,\r\n    addGlobalClass: Browser.addGlobalClass,\r\n    DetectAndroidVersion: Browser.detectAndroidVersion,\r\n    isPropertySupported: Browser.isPropertySupported,\r\n    addGlobalFeatures: Browser.addGlobalFeatures,\r\n}\r\n\r\nexport const event = new Event()\r\n\r\nexport const {\r\n    on,\r\n    off,\r\n    trigger,\r\n} = event\r\n\r\nexport const {\r\n    getRandom,\r\n    replaceMacros,\r\n} = Text\r\n","import './internal/b'\r\n\r\nimport Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Text from './lib/text'\r\nimport Arrays from './lib/arrays'\r\n\r\nexport {\r\n    Type,\r\n    Browser,\r\n    Text,\r\n    Arrays,\r\n}\r\n\r\nexport * from './libs'\r\n\r\nif (global && global.window && global.window.B)\r\n{\r\n    Object.assign(global.window.B, exports)\r\n}",null]}