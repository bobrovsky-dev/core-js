{"version":3,"sources":["../src/internal/wrap-start.js","../src/internal/b.js","../src/lib/type.js","../src/lib/browser.js","../src/lib/text.js","../src/lib/event.js","../src/libs.js","../src/core.js","../src/internal/wrap-end.js"],"names":["bTmp","window","B","Object","keys","forEach","key","exports","Type","value","isArray","isString","length","isNumber","isBoolean","isObject","isEmpty","getOwnPropertyNames","isNil","type","prototype","toString","call","map","other","isSymbol","result","isObjectLike","proto","getPrototypeOf","ctor","hasOwnProperty","constructor","Function","trueValues","transformedValue","toLowerCase","includes","isNaN","parsedValue","parseFloat","toNumber","parseInt","isInteger","undefined","Array","isPlainObject","size","isFunction","slice","isBlob","lastModifiedDate","lastModified","name","FormData","UA","navigator","userAgent","Browser","document","isOpera","documentMode","isSafari","isFirefox","isChrome","rv","MSStream","ActiveXObject","isIE10","isIE9","isIE","appName","re","RegExp","res","match","isArrayLike","exec","detectIEVersion","isIPad","isIPhone","isAndroid","devicePixelRatio","target","doc","compatMode","documentElement","clientHeight","localStorage","setItem","removeItem","e","jsProperty","returnCSSName","getCssName","propertyName","replace","args","getJsName","cssName","reg","test","toUpperCase","property","bReturnCSSName","ucProperty","charAt","props","join","properties","split","obj","body","i","prop","style","lowerProp","substr","prefix","reEscape","reUnescape","escapeEntities","unescapeEntities","Text","item","Math","random","str","regex","letter","capitalize","toCamelCase","matches","x","symbol","string","indexOf","trim","suffix","rules","tagStart","tagEnd","macros","flag","Event","handled","data","events","WeakMap","eventObject","get","eventName","eventHandler","append","isNull","_get","push","unshift","set","removed","event","splice","eventParams","globalEvents","globalHandlers","objectHandlers","objectEvents","handlers","concat","handler","apply","filter","reduce","acc","isNotEmptyString","isNotEmptyObject","isMapKey","stringToInt","parsed","Number","browser","IsOpera","IsIE","IsIE6","isIE6","IsIE7","isIE7","IsIE8","isIE8","IsIE9","IsIE10","IsIE11","isIE11","IsSafari","IsFirefox","IsChrome","DetectIeVersion","IsMac","isMac","IsAndroid","IsIOS","isIOS","IsMobile","isMobile","isRetina","IsDoctype","isDoctype","SupportLocalStorage","isLocalStorageSupported","addGlobalClass","DetectAndroidVersion","detectAndroidVersion","isPropertySupported","addGlobalFeatures","on","off","trigger","getRandom","replaceMacros","global","assign"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;;;;ICLA,IAAIA,IAAI,GAAGC,MAAM,CAACC,CAAlB;IAEAD,MAAM,CAACC,CAAP,GAAW,EAAX;;IAEA,IAAIF,IAAJ,EACA;IACIG,EAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0B,UAAAC,GAAG,EAAI;IAC7BL,IAAAA,MAAM,CAACC,CAAP,CAASI,GAAT,IAAgBN,IAAI,CAACM,GAAD,CAApB;IACH,GAFD;IAGH;;IAEDC,OAAO,GAAGN,MAAM,CAACC,CAAjB;;QCXqBM;;;;;;;;IAEjB;IACJ;IACA;IACA;IACA;gCACmBC,OACf;IACI,UAAI,KAAKC,OAAL,CAAaD,KAAb,KAAuB,KAAKE,QAAL,CAAcF,KAAd,CAA3B,EACI,OAAOA,KAAK,CAACG,MAAN,KAAiB,CAAxB;IAEJ,UAAI,KAAKC,QAAL,CAAcJ,KAAd,CAAJ,EACI,OAAOA,KAAK,KAAK,CAAjB;IAEJ,UAAI,KAAKK,SAAL,CAAeL,KAAf,CAAJ,EACI,OAAOA,KAAK,KAAK,KAAjB;IAEJ,UAAI,KAAKM,QAAL,CAAcN,KAAd,CAAJ,EACI,OAAO,KAAKO,OAAL,CAAab,MAAM,CAACc,mBAAP,CAA2BR,KAA3B,CAAb,CAAP;IAEJ,aAAO,KAAKS,KAAL,CAAWT,KAAX,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoBA,OAChB;IACI,aAAO,OAAOA,KAAP,KAAiB,QAAxB;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoBA,OAChB;IACI,UAAMU,IAAI,uBAAUV,KAAV,CAAV;IACA,aAAOU,IAAI,IAAI,QAAR,IAAqBA,IAAI,KAAK,QAAT,IAAqBV,KAAK,IAAI,IAA9B,IAAsCN,MAAM,CAACiB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+Bb,KAA/B,KAAyC,iBAA3G;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoBA,OAChB;IAAA;;IACI,UAAI,KAAKE,QAAL,CAAcF,KAAd,CAAJ,EACI,OAAOA,KAAP;IAEJ,UAAI,KAAKS,KAAL,CAAWT,KAAX,KAAqB,KAAKM,QAAL,CAAcN,KAAd,CAAzB,EACI,OAAO,EAAP;IAEJ,UAAI,KAAKK,SAAL,CAAeL,KAAf,CAAJ,EACI,OAAO,CAAC,CAACA,KAAF,GAAU,GAAV,GAAgB,EAAvB;;IAEJ,UAAI,KAAKC,OAAL,CAAaD,KAAb,CAAJ,EAAyB;IACrB,yBAAUA,KAAK,CAACc,GAAN,CAAU,UAACC,KAAD;IAAA,iBAAWA,KAAK,IAAI,IAAT,GAAgBA,KAAhB,GAAwB,KAAI,CAACH,QAAL,CAAcG,KAAd,CAAnC;IAAA,SAAV,CAAV;IACH;;IAED,UAAI,KAAKC,QAAL,CAAchB,KAAd,CAAJ,EACI,OAAOA,KAAK,CAACY,QAAN,EAAP;IAEJ,UAAMK,MAAM,aAAMjB,KAAN,CAAZ;IAEA,aAAQiB,MAAM,IAAI,GAAV,IAAkB,IAAIjB,KAAL,IAAe,EAAE,IAAI,CAAN,CAAjC,GAA6C,IAA7C,GAAoDiB,MAA3D;IACH;IAED;IACJ;IACA;IACA;IACA;;;;mCACsBjB,OAClB;IACI,aAAO,OAAOA,KAAP,KAAiB,UAAxB;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoBA,OAChB;IACI,aAAO,CAAC,CAACA,KAAF,KAAY,oBAAOA,KAAP,MAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,UAA1D,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;qCACwBA,OACpB;IACI,aAAO,CAAC,CAACA,KAAF,IAAW,oBAAOA,KAAP,MAAiB,QAAnC;IACH;IAED;IACJ;IACA;IACA;IACA;;;;sCACyBA,OACrB;IACI,UAAI,CAAC,KAAKkB,YAAL,CAAkBlB,KAAlB,CAAD,IAA6BN,MAAM,CAACiB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+Bb,KAA/B,MAA0C,iBAA3E,EACA;IACI,eAAO,KAAP;IACH;;IAED,UAAMmB,KAAK,GAAGzB,MAAM,CAAC0B,cAAP,CAAsBpB,KAAtB,CAAd;;IACA,UAAImB,KAAK,KAAK,IAAd,EACA;IACI,eAAO,IAAP;IACH;;IAED,UAAME,IAAI,GAAGF,KAAK,CAACG,cAAN,CAAqB,aAArB,KAAuCH,KAAK,CAACI,WAA1D;IAEA,aACI,OAAOF,IAAP,KAAgB,UAAhB,IACAG,QAAQ,CAACb,SAAT,CAAmBC,QAAnB,CAA4BC,IAA5B,CAAiCQ,IAAjC,MAA2CG,QAAQ,CAACb,SAAT,CAAmBC,QAAnB,CAA4BC,IAA5B,CAAiCnB,MAAjC,CAF/C;IAIH;IAED;IACJ;IACA;IACA;IACA;;;;kCACqBM,OACjB;IACI,aAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAnC;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;;;;kCACqBA,OACjB;IAAA,UADwByB,UACxB,uEADqC,EACrC;IACI,UAAMC,gBAAgB,GAAG,KAAKxB,QAAL,CAAcF,KAAd,IAAuBA,KAAK,CAAC2B,WAAN,EAAvB,GAA6C3B,KAAtE;IACA,aAAO,CAAC,MAAD,EAAS,GAAT,EAAc,GAAd,EAAmB,CAAnB,EAAsB,IAAtB,wCAA+ByB,UAA/B,GAA2CG,QAA3C,CAAoDF,gBAApD,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoB1B,OAChB;IACI,aAAO,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,CAAC6B,KAAK,CAAC7B,KAAD,CAA1C;IACH;IAED;IACJ;IACA;IACA;IACA;;;;iCACoBA,OAChB;IACI,UAAI8B,WAAW,GAAGC,UAAU,CAAC/B,KAAD,CAA5B;IACA,aAAO,KAAKI,QAAL,CAAc0B,WAAd,IAA6BA,WAA7B,GAA2C,CAAlD;IACH;IAED;IACJ;IACA;IACA;IACA;;;;kCACqB9B,OACjB;IACI,aAAO,KAAKI,QAAL,CAAcJ,KAAd,KAAyBA,KAAK,GAAG,CAAT,KAAgB,CAA/C;IACH;IAED;IACJ;IACA;IACA;IACA;;;;kCACqBA,OACjB;IACI,aAAO,KAAKgC,QAAL,CAAcC,QAAQ,CAACjC,KAAD,EAAQ,EAAR,CAAtB,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;gCACmBA,OACf;IACI,aAAO,KAAKI,QAAL,CAAcJ,KAAd,KAAwB,CAAC,KAAKkC,SAAL,CAAelC,KAAf,CAAhC;IACH;IAED;IACJ;IACA;IACA;IACA;;;;gCACmBA,OACf;IACI,aAAO+B,UAAU,CAAC/B,KAAD,CAAjB;IACH;IAED;IACJ;IACA;IACA;IACA;;;;8BACiBA,OACb;IACI,aAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKmC,SAAnC;IACH;IAED;IACJ;IACA;IACA;IACA;;;;gCACmBnC,OACf;IACI,aAAO,CAAC,KAAKS,KAAL,CAAWT,KAAX,CAAD,IAAsBoC,KAAK,CAACnC,OAAN,CAAcD,KAAd,CAA7B;IACH;IAED;IACJ;IACA;IACA;IACA;;;;+BACkBA,OACd;IACI,aAAO,KAAKkB,YAAL,CAAkBlB,KAAlB,KAA4BN,MAAM,CAACiB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+Bb,KAA/B,MAA0C,eAA7E;IACH;IAED;IACJ;IACA;IACA;IACA;;;;kCACqBA,OACjB;IACI,aAAO,KAAKkB,YAAL,CAAkBlB,KAAlB,KAA4B,CAAC,KAAKqC,aAAL,CAAmBrC,KAAnB,CAA7B,IAA0D,cAAcA,KAA/E;IACH;IAED;IACJ;IACA;IACA;IACA;;;;oCACuBA,OACnB;IACI,aACI,CAAG,QAAQA,KAAK,IAAIA,KAAK,CAACuB,WAAvB,MAAwC,UAAzC,IAAwDvB,KAAK,CAACuB,WAAN,CAAkBZ,SAA3E,IAAyFjB,MAAM,CAACiB,SAAjG,MAAgHX,KADpH;IAGH;IAED;IACJ;IACA;IACA;IACA;;;;+BACkBA,OACd;IACI,aAAOA,KAAK,KAAK,IAAjB;IACH;IAED;IACJ;IACA;IACA;IACA;;;;oCACuBA,OACnB;IACI,aAAO,OAAOA,KAAP,KAAiB,WAAxB;IACH;IAED;IACJ;IACA;IACA;IACA;;;;+BACkBA,OACd;IACI,aACI,KAAKkB,YAAL,CAAkBlB,KAAlB,KACG,KAAKI,QAAL,CAAcJ,KAAK,CAACsC,IAApB,CADH,IAEG,KAAKpC,QAAL,CAAcF,KAAK,CAACU,IAApB,CAFH,IAGG,KAAK6B,UAAL,CAAgBvC,KAAK,CAACwC,KAAtB,CAJP;IAMH;IAED;IACJ;IACA;IACA;IACA;;;;+BACkBxC,OACd;IACI,aACI,KAAKyC,MAAL,CAAYzC,KAAZ,KACG,KAAKkB,YAAL,CAAkBlB,KAAK,CAAC0C,gBAAxB,CADH,IAEG,KAAKtC,QAAL,CAAcJ,KAAK,CAAC2C,YAApB,CAFH,IAGG,KAAKzC,QAAL,CAAcF,KAAK,CAAC4C,IAApB,CAJP;IAMH;IAED;IACJ;IACA;IACA;IACA;;;;mCACsB5C,OAClB;IACI,aAAOA,KAAK,YAAY6C,QAAxB;IACH;;;;;IChUL,IAAMC,EAAE,GAAGC,SAAS,CAACC,SAAV,CAAoBrB,WAApB,EAAX;;QAEqBsB;;;;;;;kCAGpB;IACC,aAAOH,EAAE,CAAClB,QAAH,CAAY,OAAZ,CAAP;IACA;;;+BAGD;IACC,aAAQ,iBAAiBsB,QAAlB,IAA+B,CAACD,OAAO,CAACE,OAAR,EAAvC;IACA;;;gCAGD;IACC,aAAOL,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAAP;IACA;;;gCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAAP;IACA;;;gCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAAP;IACA;;;gCAGD;IACC,aAAQ,kBAAkBsB,QAAnB,IAAgCA,QAAQ,CAACE,YAAT,IAAyB,CAAhE;IACA;;;iCAGD;IACC,aAAQ,kBAAkBF,QAAnB,IAAgCA,QAAQ,CAACE,YAAT,IAAyB,EAAhE;IACA;;;mCAGD;IACC,aAAON,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAAP;IACA;;;oCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,SAAZ,CAAP;IACA;;;mCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAAP;IACA;;;0CAGD;IACC,UAAIqB,OAAO,CAACE,OAAR,MAAqBF,OAAO,CAACI,QAAR,EAArB,IAA2CJ,OAAO,CAACK,SAAR,EAA3C,IAAkEL,OAAO,CAACM,QAAR,EAAtE,EACA;IACC,eAAO,CAAC,CAAR;IACA;;IAED,UAAIC,EAAE,GAAG,CAAC,CAAV;;IAEA,UACC,CAAC,CAAEhE,MAAM,CAACiE,QAAV,IACG,CAAEjE,MAAM,CAACkE,aADZ,IAEI,mBAAmBlE,MAHxB,EAKA;IACCgE,QAAAA,EAAE,GAAG,EAAL;IACA,OAPD,MAQK,IAAIP,OAAO,CAACU,MAAR,EAAJ,EACL;IACCH,QAAAA,EAAE,GAAG,EAAL;IACA,OAHI,MAIA,IAAIP,OAAO,CAACW,KAAR,EAAJ,EACL;IACCJ,QAAAA,EAAE,GAAG,CAAL;IACA,OAHI,MAIA,IAAIP,OAAO,CAACY,IAAR,EAAJ,EACL;IACCL,QAAAA,EAAE,GAAG,CAAL;IACA;;IAED,UAAIA,EAAE,KAAK,CAAC,CAAR,IAAaA,EAAE,KAAK,CAAxB,EACA;IACC,YAAIT,SAAS,CAACe,OAAV,KAAsB,6BAA1B,EACA;IACC,cAAMC,EAAE,GAAG,IAAIC,MAAJ,CAAW,sBAAX,CAAX;IACA,cAAMC,GAAG,GAAGlB,SAAS,CAACC,SAAV,CAAoBkB,KAApB,CAA0BH,EAA1B,CAAZ;;IAEA,cAAIhE,IAAI,CAACoE,WAAL,CAAiBF,GAAjB,KAAyBA,GAAG,CAAC9D,MAAJ,GAAa,CAA1C,EACA;IACCqD,YAAAA,EAAE,GAAGzB,UAAU,CAACkC,GAAG,CAAC,CAAD,CAAJ,CAAf;IACA;IACD;;IAED,YAAIlB,SAAS,CAACe,OAAV,KAAsB,UAA1B,EACA;IACCN,UAAAA,EAAE,GAAG,EAAL;;IACA,cAAMO,GAAE,GAAG,IAAIC,MAAJ,CAAW,8BAAX,CAAX;;IAEA,cAAID,GAAE,CAACK,IAAH,CAAQrB,SAAS,CAACC,SAAlB,KAAgC,IAApC,EACA;IACC,gBAAMiB,IAAG,GAAGlB,SAAS,CAACC,SAAV,CAAoBkB,KAApB,CAA0BH,GAA1B,CAAZ;;IAEA,gBAAIhE,IAAI,CAACoE,WAAL,CAAiBF,IAAjB,KAAyBA,IAAG,CAAC9D,MAAJ,GAAa,CAA1C,EACA;IACCqD,cAAAA,EAAE,GAAGzB,UAAU,CAACkC,IAAG,CAAC,CAAD,CAAJ,CAAf;IACA;IACD;IACD;IACD;;IAED,aAAOT,EAAP;IACA;;;iCAGD;IACC,aAAOP,OAAO,CAACoB,eAAR,MAA6B,EAApC;IACA;;;gCAGD;IACC,aAAOvB,EAAE,CAAClB,QAAH,CAAY,WAAZ,CAAP;IACA;;;oCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,SAAZ,CAAP;IACA;;;iCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,OAAZ,CAAP;IACA;;;mCAGD;IACC,aAAOkB,EAAE,CAAClB,QAAH,CAAY,SAAZ,CAAP;IACA;;;gCAGD;IACC,aAAOqB,OAAO,CAACqB,MAAR,MAAoBrB,OAAO,CAACsB,QAAR,EAA3B;IACA;;;mCAGD;IACC,aACCtB,OAAO,CAACsB,QAAR,MACGtB,OAAO,CAACqB,MAAR,EADH,IAEGrB,OAAO,CAACuB,SAAR,EAFH,IAGG1B,EAAE,CAAClB,QAAH,CAAY,QAAZ,CAHH,IAIGkB,EAAE,CAAClB,QAAH,CAAY,OAAZ,CALJ;IAOA;;;mCAGD;IACC,aAAOpC,MAAM,CAACiF,gBAAP,IAA2BjF,MAAM,CAACiF,gBAAP,IAA2B,CAA7D;IACA;;;kCAEgBC,QACjB;IACC,UAAMC,GAAG,GAAGD,MAAM,IAAIxB,QAAtB;;IAEA,UAAIyB,GAAG,CAACC,UAAR,EACA;IACC,eAAQD,GAAG,CAACC,UAAJ,KAAmB,YAA3B;IACA;;IAED,aAAQD,GAAG,CAACE,eAAJ,IAAuBF,GAAG,CAACE,eAAJ,CAAoBC,YAAnD;IACA;;;kDAGD;IACC,UACA;IACCC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,MAA7B;IACAD,QAAAA,YAAY,CAACE,UAAb,CAAwB,MAAxB;IACA,eAAO,IAAP;IACA,OALD,CAMA,OAAOC,CAAP,EACA;IACC,eAAO,KAAP;IACA;IACD;;;+CAID;IACC,UAAMnB,EAAE,GAAG,IAAIC,MAAJ,CAAW,yBAAX,CAAX;;IAEA,UAAID,EAAE,CAACK,IAAH,CAAQrB,SAAS,CAACC,SAAlB,KAAgC,IAApC,EACA;IACC,YAAMiB,GAAG,GAAGlB,SAAS,CAACC,SAAV,CAAoBkB,KAApB,CAA0BH,EAA1B,CAAZ;;IAEA,YAAIhE,IAAI,CAACoE,WAAL,CAAiBF,GAAjB,KAAyBA,GAAG,CAAC9D,MAAJ,GAAa,CAA1C,EACA;IACC,iBAAO4B,UAAU,CAACkC,GAAG,CAAC,CAAD,CAAJ,CAAjB;IACA;IACD;;IAED,aAAO,CAAP;IACA;;;4CAE0BkB,YAAYC,eACvC;IACC,UAAID,UAAU,KAAK,EAAnB,EACA;IACC,eAAO,KAAP;IACA;;IAED,eAASE,UAAT,CAAoBC,YAApB,EACA;IACC,eAAOA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC;IAAA,4CAAIC,IAAJ;IAAIA,YAAAA,IAAJ;IAAA;;IAAA,4BAAiBA,IAAI,CAAC,CAAD,CAAJ,CAAQ7D,WAAR,EAAjB;IAAA,SAAjC,CAAP;IACA;;IAED,eAAS8D,SAAT,CAAmBC,OAAnB,EACA;IACC,YAAMC,GAAG,GAAG,eAAZ;;IAEA,YAAIA,GAAG,CAACC,IAAJ,CAASF,OAAT,CAAJ,EACA;IACC,iBAAOA,OAAO,CAACH,OAAR,CAAgBI,GAAhB,EAAqB;IAAA,+CAAIH,IAAJ;IAAIA,cAAAA,IAAJ;IAAA;;IAAA,mBAAaA,IAAI,CAAC,CAAD,CAAJ,CAAQK,WAAR,EAAb;IAAA,WAArB,CAAP;IACA;;IAED,eAAOH,OAAP;IACA;;IAED,UAAMI,QAAQ,GAAGX,UAAU,CAACvD,QAAX,CAAoB,GAApB,IAA2B6D,SAAS,CAACN,UAAD,CAApC,GAAmDA,UAApE;IACA,UAAMY,cAAc,GAAG,CAAC,CAACX,aAAzB;IACA,UAAMY,UAAU,GAAGF,QAAQ,CAACG,MAAT,CAAgB,CAAhB,EAAmBJ,WAAnB,KAAmCC,QAAQ,CAACtD,KAAT,CAAe,CAAf,CAAtD;IACA,UAAM0D,KAAK,GAAG,CAAC,QAAD,EAAW,KAAX,EAAkB,GAAlB,EAAuB,IAAvB,EAA6BC,IAA7B,WAAqCH,UAArC,OAAd;IACA,UAAMI,UAAU,GAAG,UAAGN,QAAH,cAAeI,KAAf,cAAwBF,UAAxB,EAAqCK,KAArC,CAA2C,GAA3C,CAAnB;IAEA,UAAMC,GAAG,GAAGpD,QAAQ,CAACqD,IAAT,IAAiBrD,QAAQ,CAAC2B,eAAtC;;IAEA,WAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAAU,CAACjG,MAA/B,EAAuCqG,CAAC,IAAI,CAA5C,EACA;IACC,YAAMC,IAAI,GAAGL,UAAU,CAACI,CAAD,CAAvB;;IAEA,YAAIF,GAAG,IAAI,WAAWA,GAAlB,IAAyBG,IAAI,IAAIH,GAAG,CAACI,KAAzC,EACA;IACC,cAAMC,SAAS,GAAGF,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAeH,IAAI,CAACtG,MAAL,GAAc2F,QAAQ,CAAC3F,MAAtC,EAA8CwB,WAA9C,EAAlB;IACA,cAAMkF,MAAM,GAAGJ,IAAI,KAAKX,QAAT,GAAoB,EAApB,cAA6Ba,SAA7B,MAAf;IACA,iBAAOZ,cAAc,GAAGc,MAAM,GAAGxB,UAAU,CAACS,QAAD,CAAtB,GAAmCW,IAAxD;IACA;IACD;;IAED,aAAO,KAAP;IACA;;;;;IC5PF,IAAMK,QAAQ,GAAG,UAAjB;IAEA,IAAMC,UAAU,GAAG,gDAAnB;IAEA,IAAMC,cAAc,GAAG;IACnB,OAAK,OADc;IAEnB,OAAK,MAFc;IAGnB,OAAK,MAHc;IAInB,OAAK,OAJc;IAKnB,OAAK;IALc,CAAvB;IAQA,IAAMC,gBAAgB,GAAG;IACrB,WAAS,GADY;IAErB,WAAS,GAFY;IAGrB,UAAQ,GAHa;IAIrB,WAAS,GAJY;IAKrB,UAAQ,GALa;IAMrB,WAAS,GANY;IAOrB,YAAU,GAPW;IAQrB,WAAS,GARY;IASrB,YAAU,GATW;IAUrB,WAAS;IAVY,CAAzB;;QAaqBC;;;;;;;;IAEjB;IACJ;IACA;IACA;IACA;+BACkBlH,OACd;IACI,UAAID,IAAI,CAACG,QAAL,CAAcF,KAAd,CAAJ,EACA;IACI,eAAOA,KAAK,CAACuF,OAAN,CAAcuB,QAAd,EAAwB,UAAAK,IAAI;IAAA,iBAAIH,cAAc,CAACG,IAAD,CAAlB;IAAA,SAA5B,CAAP;IACH;;IAED,aAAOnH,KAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;+BACkBA,OACd;IACI,UAAID,IAAI,CAACG,QAAL,CAAcF,KAAd,CAAJ,EACA;IACI,eAAOA,KAAK,CAACuF,OAAN,CAAcwB,UAAd,EAA0B,UAAAI,IAAI;IAAA,iBAAIF,gBAAgB,CAACE,IAAD,CAApB;IAAA,SAA9B,CAAP;IACH;;IAED,aAAOnH,KAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;oCAEI;IAAA,UADiBG,MACjB,uEAD0B,CAC1B;IACI,aAAO,+BAAIiC,KAAK,CAACjC,MAAD,CAAT,EAAmBW,GAAnB,CAAuB;IAAA,eAAM,CAAC,CAAC,EAAEsG,IAAI,CAACC,MAAL,KAAgB,EAAlB,CAAF,EAAyBzG,QAAzB,CAAkC,EAAlC,CAAN;IAAA,OAAvB,EAAoEuF,IAApE,CAAyE,EAAzE,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;oCACuBmB,KACnB;IACI,UAAIvH,IAAI,CAACQ,OAAL,CAAa+G,GAAb,CAAJ,EACA;IACI,eAAOA,GAAP;IACH;;IAED,UAAMC,KAAK,GAAG,cAAd;;IACA,UAAI,CAACA,KAAK,CAAC3B,IAAN,CAAW0B,GAAX,CAAL,EACA;IACI,eAAOA,GAAG,CAACpD,KAAJ,CAAU,UAAV,IAAwBoD,GAAG,CAAC3F,WAAJ,EAAxB,GAA4C2F,GAAG,CAAC,CAAD,CAAH,CAAO3F,WAAP,KAAuB2F,GAAG,CAAC9E,KAAJ,CAAU,CAAV,CAA1E;IACH;;IAED8E,MAAAA,GAAG,GAAGA,GAAG,CAAC3F,WAAJ,EAAN;IACA2F,MAAAA,GAAG,GAAGA,GAAG,CAAC/B,OAAJ,CAAYgC,KAAZ,EAAmB,UAASrD,KAAT,EAAgBsD,MAAhB,EAAwB;IAC7C,eAAOA,MAAM,GAAGA,MAAM,CAAC3B,WAAP,EAAH,GAA0B,EAAvC;IACH,OAFK,CAAN;IAIA,aAAOyB,GAAG,CAAC,CAAD,CAAH,CAAO3F,WAAP,KAAuB2F,GAAG,CAACV,MAAJ,CAAW,CAAX,CAA9B;IACH;IAED;IACJ;IACA;IACA;IACA;;;;qCACwBU,KACpB;IACI,UAAIvH,IAAI,CAACQ,OAAL,CAAa+G,GAAb,CAAJ,EACA;IACI,eAAOA,GAAP;IACH;;IAED,aAAO,KAAKG,UAAL,CAAgB,KAAKC,WAAL,CAAiBJ,GAAjB,CAAhB,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;oCACuBA,KACnB;IACI,UAAIvH,IAAI,CAACQ,OAAL,CAAa+G,GAAb,CAAJ,EACA;IACI,eAAOA,GAAP;IACH;;IAED,UAAMK,OAAO,GAAGL,GAAG,CAACpD,KAAJ,CAAU,oEAAV,CAAhB;;IACA,UAAI,CAACyD,OAAL,EACA;IACI,eAAOL,GAAP;IACH;;IAED,aAAOK,OAAO,CAAC7G,GAAR,CAAY,UAAA8G,CAAC;IAAA,eAAIA,CAAC,CAACjG,WAAF,EAAJ;IAAA,OAAb,EAAkCwE,IAAlC,CAAuC,GAAvC,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;mCACsBmB,KAClB;IACI,UAAIvH,IAAI,CAACQ,OAAL,CAAa+G,GAAb,CAAJ,EACA;IACI,eAAOA,GAAP;IACH;;IAED,aAAOA,GAAG,CAAC,CAAD,CAAH,CAAOzB,WAAP,KAAuByB,GAAG,CAACV,MAAJ,CAAW,CAAX,CAA9B;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;;;;6BACgBiB,QAAQC,QACpB;IACIA,MAAAA,MAAM,GAAG/H,IAAI,CAACa,QAAL,CAAckH,MAAd,CAAT;IACA,aAAOA,MAAM,CAACC,OAAP,CAAehI,IAAI,CAACa,QAAL,CAAciH,MAAd,CAAf,MAA0C,CAAC,CAAlD;IACH;IAED;IACJ;IACA;IACA;IACA;;;;6BACgB7H,OACZ;IACI,UAAID,IAAI,CAACG,QAAL,CAAcF,KAAd,CAAJ,EACI,OAAOA,KAAK,CAACgI,IAAN,EAAP;IAEJ,aAAOhI,KAAP;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;;;;iCACoB8H,QAAQ3H,QACxB;IAAA,UADgC8H,MAChC,uEADyC,KACzC;IACIH,MAAAA,MAAM,GAAG/H,IAAI,CAACa,QAAL,CAAckH,MAAd,CAAT;IACA,aAAOA,MAAM,CAAC3H,MAAP,GAAgBA,MAAhB,GAAyB,KAAK6H,IAAL,CAAUF,MAAM,CAAClB,MAAP,CAAc,CAAd,EAAiBzG,MAAjB,CAAV,IAAsC8H,MAA/D,GAAwEH,MAA/E;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;;;;sCACyBA,QAAQI,OAC7B;IAAA,UADoCC,QACpC,uEAD+C,GAC/C;IAAA,UADoDC,MACpD,uEAD6D,GAC7D;;IACI,UAAIrI,IAAI,CAACmB,YAAL,CAAkBgH,KAAlB,CAAJ,EACA;IACI,YAAIG,MAAM,GAAG,EAAb;IAEA3I,QAAAA,MAAM,CAACC,IAAP,CAAYuI,KAAZ,EAAmBtI,OAAnB,CAA2B,UAAAC,GAAG,EAAI;IAC9BwI,UAAAA,MAAM,CAACF,QAAQ,GAAGtI,GAAX,GAAiBuI,MAAlB,CAAN,GAAkCF,KAAK,CAACrI,GAAD,CAAvC;IACH,SAFD;IAIAiI,QAAAA,MAAM,GAAGZ,IAAI,CAAC3B,OAAL,CAAauC,MAAb,EAAqBO,MAArB,CAAT;IACH;;IAED,aAAOP,MAAP;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;;;;gCACmBA,QAAQI,OACvB;IAAA,UAD8BI,IAC9B,uEADqC,GACrC;IACIR,MAAAA,MAAM,GAAG/H,IAAI,CAACa,QAAL,CAAckH,MAAd,CAAT;;IAEA,UAAI/H,IAAI,CAACmB,YAAL,CAAkBgH,KAAlB,CAAJ,EACA;IACIxI,QAAAA,MAAM,CAACC,IAAP,CAAYuI,KAAZ,EAAmBtI,OAAnB,CAA2B,UAAAC,GAAG,EAAI;IAC9BiI,UAAAA,MAAM,GAAGA,MAAM,CAACvC,OAAP,CAAe,IAAIvB,MAAJ,CAAWnE,GAAX,EAAgByI,IAAhB,CAAf,EAAsCJ,KAAK,CAACrI,GAAD,CAA3C,CAAT;IACH,SAFD;IAGH;;IAED,aAAOiI,MAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;8BACiB9H,OACb;IACI,UAAI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACuF,OAArB,EACI,OAAOvF,KAAP;IAEJ,aAAOA,KAAK,CAACuF,OAAN,CAAc,WAAd,EAA2B,SAA3B,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;kCACqBvF,OACjB;IACI,UAAI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACqG,KAArB,EACI,OAAOrG,KAAP;IAEJ,aAAOA,KAAK,CAACqG,KAAN,CAAY,UAAZ,EAAwBF,IAAxB,CAA6B,EAA7B,CAAP;IACH;IAED;IACJ;IACA;IACA;IACA;;;;qCACwBnG,OACpB;IACI,UAAI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACuF,OAArB,EACI,OAAOvF,KAAP;IAEJ,aAAOA,KAAK,CAACuF,OAAN,CAAc,qBAAd,EAAqC,EAArC,CAAP;IACH;;;;;QCxQgBgD;IAEjB,mBACA;IAAA;;IACI;IACR;IACA;IACA;IACQ,SAAK3F,IAAL,GAAY,EAAZ;IAEA;IACR;IACA;IACA;;IACQ,SAAK4F,OAAL,GAAe,KAAf;IAEA;IACR;IACA;IACA;;IACQ,SAAKC,IAAL,GAAY,EAAZ;IAEA;IACR;IACA;IACA;;IACQ,SAAKC,MAAL,GAAc,IAAIC,OAAJ,EAAd;IACH;IAED;IACJ;IACA;IACA;IACA;;;;;6BACSC,aACL;IACI,aAAO,KAAKF,MAAL,CAAYG,GAAZ,CAAgBD,WAAhB,KAAgC,EAAvC;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;;;;2BACOA,aAAaE,WAAWC,cAC3B;IAAA,UADyCN,IACzC,uEADgD,IAChD;IAAA,UADsDO,MACtD,uEAD+D,IAC/D;;IACI,UAAIjJ,IAAI,CAACG,QAAL,CAAc0I,WAAd,CAAJ,EACA;IACII,QAAAA,MAAM,GAAGjJ,IAAI,CAACkJ,MAAL,CAAYR,IAAZ,IAAoB,IAApB,GAA2BA,IAApC;IACAA,QAAAA,IAAI,GAAGM,YAAY,IAAI,IAAvB;IACAA,QAAAA,YAAY,GAAGD,SAAf;IACAA,QAAAA,SAAS,GAAGF,WAAZ;IACAA,QAAAA,WAAW,GAAGpJ,MAAd;IACH;;IAED,UACI,CAACO,IAAI,CAACwC,UAAL,CAAgBwG,YAAhB,CAAD,IACAhJ,IAAI,CAACQ,OAAL,CAAauI,SAAb,CADA,IAEA,CAAC/I,IAAI,CAACO,QAAL,CAAcsI,WAAd,CAHL,EAKI;IAEJE,MAAAA,SAAS,GAAGA,SAAS,CAACnH,WAAV,EAAZ;;IAEA,UAAI+G,MAAM,GAAG,KAAKQ,IAAL,CAAUN,WAAV,CAAb;;IAEA,UAAI,CAAC7I,IAAI,CAACE,OAAL,CAAayI,MAAM,CAACI,SAAD,CAAnB,CAAL,EACIJ,MAAM,CAACI,SAAD,CAAN,GAAoB,EAApB;IAEJ,UAAI,CAAC,CAACE,MAAN,EACIN,MAAM,CAACI,SAAD,CAAN,CAAkBK,IAAlB,CAAuB,CAACJ,YAAD,EAAeN,IAAf,CAAvB,EADJ,KAGIC,MAAM,CAACI,SAAD,CAAN,CAAkBM,OAAlB,CAA0B,CAACL,YAAD,EAAeN,IAAf,CAA1B;IAEJ,WAAKC,MAAL,CAAYW,GAAZ,CAAgBT,WAAhB,EAA6BF,MAA7B;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;;;;4BACQE,aAAaE,WAAWC,cAC5B;IACI,UAAIhJ,IAAI,CAACG,QAAL,CAAc0I,WAAd,CAAJ,EACA;IACIG,QAAAA,YAAY,GAAGD,SAAf;IACAA,QAAAA,SAAS,GAAGF,WAAZ;IACAA,QAAAA,WAAW,GAAGpJ,MAAd;IACH;;IAEDsJ,MAAAA,SAAS,GAAGA,SAAS,CAACnH,WAAV,EAAZ;;IAEA,UAAI+G,MAAM,GAAG,KAAKQ,IAAL,CAAUN,WAAV,CAAb;;IAEA,UAAI7I,IAAI,CAACkJ,MAAL,CAAYF,YAAZ,CAAJ,EACA;IACI,eAAOL,MAAM,CAACI,SAAD,CAAb;IACA,eAAO,IAAP;IACH;;IAED,UAAIQ,OAAO,GAAG,KAAd;;IAEA,UAAIZ,MAAM,IAAI3I,IAAI,CAACE,OAAL,CAAayI,MAAM,CAACI,SAAD,CAAnB,CAAd,EACA;IACIJ,QAAAA,MAAM,CAACI,SAAD,CAAN,CAAkBlJ,OAAlB,CAA0B,UAAU2J,KAAV,EAAiB/C,CAAjB,EAAoB;IAC1C,cAAI+C,KAAK,CAAC,CAAD,CAAL,KAAaR,YAAjB,EACA;IACIL,YAAAA,MAAM,CAACI,SAAD,CAAN,CAAkBU,MAAlB,CAAyBhD,CAAzB,EAA4B,CAA5B;IACA8C,YAAAA,OAAO,GAAG,IAAV;IACH;IACJ,SAND;IAOH;;IAED,aAAOA,OAAP;IACH;IAED;IACJ;IACA;IACA;IACA;IACA;IACA;;;;gCACYV,aAAaE,WACrB;IAAA,UADgCW,WAChC,uEAD8C,IAC9C;IAAA,UADoDF,KACpD,uEAD4D,IAC5D;;IACI,UAAIxJ,IAAI,CAACG,QAAL,CAAc0I,WAAd,CAAJ,EACA;IACIW,QAAAA,KAAK,GAAGE,WAAW,IAAI,IAAvB;IACAA,QAAAA,WAAW,GAAGX,SAAS,IAAI,EAA3B;IACAA,QAAAA,SAAS,GAAGF,WAAZ;IACAA,QAAAA,WAAW,GAAGpJ,MAAd;IACH;;IAED,UAAIiK,WAAW,KAAK,IAApB,EACIA,WAAW,GAAG,EAAd;IAEJX,MAAAA,SAAS,GAAGA,SAAS,CAACnH,WAAV,EAAZ;;IAEA,UAAI+H,YAAY,GAAG,KAAKR,IAAL,CAAU1J,MAAV,CAAnB;;IACA,UAAImK,cAAc,GAAGD,YAAY,IAAI3J,IAAI,CAACE,OAAL,CAAayJ,YAAY,CAACZ,SAAD,CAAzB,CAAhB,GAAwDY,YAAY,CAACZ,SAAD,CAApE,GAAkF,EAAvG;IACA,UAAIc,cAAc,GAAG,EAArB;;IAEA,UAAIhB,WAAW,KAAKpJ,MAAhB,IAA0BO,IAAI,CAACO,QAAL,CAAcsI,WAAd,CAA9B,EACA;IACI,YAAIiB,YAAY,GAAG,KAAKX,IAAL,CAAUN,WAAV,CAAnB;;IACA,YAAIiB,YAAY,IAAI9J,IAAI,CAACE,OAAL,CAAa4J,YAAY,CAACf,SAAD,CAAzB,CAApB,EACA;IACIc,UAAAA,cAAc,GAAGC,YAAY,CAACf,SAAD,CAA7B;IACH;IACJ;;IAED,UAAIgB,QAAQ,GAAGH,cAAc,CAACI,MAAf,CAAsBH,cAAtB,CAAf;IAEA,UAAIL,KAAK,KAAK,IAAd,EACIA,KAAK,GAAG,IAAIhB,KAAJ,EAAR;IAEJgB,MAAAA,KAAK,CAACf,OAAN,GAAgB,KAAhB;IACAe,MAAAA,KAAK,CAAC3G,IAAN,GAAakG,SAAb;;IAEA,WAAK,IAAItC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIsD,QAAQ,CAAC3J,MAAT,GAAkB,CAAvC,EAA0CqG,CAAC,EAA3C,EACA;IACI,YAAIwD,OAAO,GAAGF,QAAQ,CAACtD,CAAD,CAAtB;IAEA+C,QAAAA,KAAK,CAACd,IAAN,GAAauB,OAAO,CAAC,CAAD,CAApB;IAEA,YAAIP,WAAW,CAAC1B,OAAZ,CAAoBwB,KAApB,IAA6B,CAAjC,EACIE,WAAW,CAACL,OAAZ,CAAoBG,KAApB;IAEJ,YAAIxJ,IAAI,CAACwC,UAAL,CAAgByH,OAAO,CAAC,CAAD,CAAvB,CAAJ,EACIA,OAAO,CAAC,CAAD,CAAP,CAAWC,KAAX,CAAiBrB,WAAjB,EAA8Ba,WAA9B;IAEJ,YAAIF,KAAK,CAACf,OAAV,EACI;IACP;IAEJ;;;;;QClLQ9H,IAAI,iCACVhB,MAAM,CAACc,mBAAP,CAA2BT,IAA3B,EACEmK,MADF,CACS,UAAArK,GAAG;IAAA,SAAI,CAAC,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD+B,QAAvD,CAAgE/B,GAAhE,CAAL;IAAA,CADZ,EAEEsK,MAFF,CAES,UAACC,GAAD,EAAMvK,GAAN,EAAc;IAClBuK,EAAAA,GAAG,CAACvK,GAAD,CAAH,GAAWE,IAAI,CAACF,GAAD,CAAf;IACA,SAAOuK,GAAP;IACH,CALF,EAKI,EALJ,CADU;IAObC,EAAAA,gBAAgB,EAAE,0BAAArK,KAAK;IAAA,WAAID,IAAI,CAACG,QAAL,CAAcF,KAAd,KAAwBA,KAAK,KAAK,EAAtC;IAAA,GAPV;IAQbsK,EAAAA,gBAAgB,EAAE,0BAAAtK,KAAK;IAAA,WAAID,IAAI,CAACmB,YAAL,CAAkBlB,KAAlB,KAA4BN,MAAM,CAACC,IAAP,CAAYK,KAAZ,EAAmBG,MAAnB,GAA4B,CAA5D;IAAA,GARV;IASboK,EAAAA,QAAQ,EAAExK,IAAI,CAACO,QATF;IAUbkK,EAAAA,WAAW,EAAE,qBAACxK,KAAD,EAAW;IACpB,QAAMyK,MAAM,GAAGxI,QAAQ,CAACjC,KAAD,CAAvB;IACA,WAAO,CAAC0K,MAAM,CAAC7I,KAAP,CAAa4I,MAAb,CAAD,GAAwBA,MAAxB,GAAiC,CAAxC;IACH;IAbY,EAAV;AAgBP,QAAaE,OAAO,GAAG;IACnBC,EAAAA,OAAO,EAAE3H,OAAO,CAACE,OADE;IAEnB0H,EAAAA,IAAI,EAAE5H,OAAO,CAACY,IAFK;IAGnBiH,EAAAA,KAAK,EAAE7H,OAAO,CAAC8H,KAHI;IAInBC,EAAAA,KAAK,EAAE/H,OAAO,CAACgI,KAJI;IAKnBC,EAAAA,KAAK,EAAEjI,OAAO,CAACkI,KALI;IAMnBC,EAAAA,KAAK,EAAEnI,OAAO,CAACW,KANI;IAOnByH,EAAAA,MAAM,EAAEpI,OAAO,CAACU,MAPG;IAQnB2H,EAAAA,MAAM,EAAErI,OAAO,CAACsI,MARG;IASnBC,EAAAA,QAAQ,EAAEvI,OAAO,CAACI,QATC;IAUnBoI,EAAAA,SAAS,EAAExI,OAAO,CAACK,SAVA;IAWnBoI,EAAAA,QAAQ,EAAEzI,OAAO,CAACM,QAXC;IAYnBoI,EAAAA,eAAe,EAAE1I,OAAO,CAACoB,eAZN;IAanBuH,EAAAA,KAAK,EAAE3I,OAAO,CAAC4I,KAbI;IAcnBC,EAAAA,SAAS,EAAE7I,OAAO,CAACuB,SAdA;IAenBF,EAAAA,MAAM,EAAErB,OAAO,CAACqB,MAfG;IAgBnBC,EAAAA,QAAQ,EAAEtB,OAAO,CAACsB,QAhBC;IAiBnBwH,EAAAA,KAAK,EAAE9I,OAAO,CAAC+I,KAjBI;IAkBnBC,EAAAA,QAAQ,EAAEhJ,OAAO,CAACiJ,QAlBC;IAmBnBC,EAAAA,QAAQ,EAAElJ,OAAO,CAACkJ,QAnBC;IAoBnBC,EAAAA,SAAS,EAAEnJ,OAAO,CAACoJ,SApBA;IAqBnBC,EAAAA,mBAAmB,EAAErJ,OAAO,CAACsJ,uBArBV;IAsBnBC,EAAAA,cAAc,EAAEvJ,OAAO,CAACuJ,cAtBL;IAuBnBC,EAAAA,oBAAoB,EAAExJ,OAAO,CAACyJ,oBAvBX;IAwBnBC,EAAAA,mBAAmB,EAAE1J,OAAO,CAAC0J,mBAxBV;IAyBnBC,EAAAA,iBAAiB,EAAE3J,OAAO,CAAC2J;IAzBR,CAAhB;AA4BP,QAAarD,KAAK,GAAG,IAAIhB,KAAJ,EAAd;QAGHsE,KAGAtD,MAHAsD;QACAC,MAEAvD,MAFAuD;QACAC,UACAxD,MADAwD;QAIAC,YAEA9F,KAFA8F;QACAC,gBACA/F,KADA+F;;IC7CJ,IAAIC,MAAM,IAAIA,MAAM,CAAC1N,MAAjB,IAA2B0N,MAAM,CAAC1N,MAAP,CAAcC,CAA7C,EACA;IACIC,EAAAA,MAAM,CAACyN,MAAP,CAAcD,MAAM,CAAC1N,MAAP,CAAcC,CAA5B,EAA+BK,OAA/B;IACH;;;;;;;;;;;;;;;;;;ACjBD","file":"core.js.map","sourcesContent":[null,"let bTmp = window.B\r\n\r\nwindow.B = {}\r\n\r\nif (bTmp)\r\n{\r\n    Object.keys(bTmp).forEach(key => {\r\n        window.B[key] = bTmp[key]\r\n    })\r\n}\r\n\r\nexports = window.B","export default class Type\r\n{\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isEmpty(value)\r\n    {\r\n        if (this.isArray(value) || this.isString(value))\r\n            return value.length === 0\r\n\r\n        if (this.isNumber(value))\r\n            return value === 0\r\n\r\n        if (this.isBoolean(value))\r\n            return value === false\r\n\r\n        if (this.isObject(value))\r\n            return this.isEmpty(Object.getOwnPropertyNames(value))\r\n\r\n        return this.isNil(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isString(value)\r\n    {\r\n        return typeof value === 'string'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isSymbol(value)\r\n    {\r\n        const type = typeof value\r\n        return type == 'symbol' || (type === 'object' && value != null && Object.prototype.toString.call(value) == '[object Symbol]')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {string}\r\n     */\r\n    static toString(value)\r\n    {\r\n        if (this.isString(value))\r\n            return value\r\n\r\n        if (this.isNil(value) || this.isObject(value))\r\n            return ''\r\n\r\n        if (this.isBoolean(value))\r\n            return !!value ? '1' : ''\r\n\r\n        if (this.isArray(value)) {\r\n            return `${value.map((other) => other == null ? other : this.toString(other))}`\r\n        }\r\n\r\n        if (this.isSymbol(value))\r\n            return value.toString()\r\n\r\n        const result = `${value}`\r\n\r\n        return (result == '0' && (1 / value) == -(1 / 0)) ? '-0' : result\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFunction(value)\r\n    {\r\n        return typeof value === 'function'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObject(value)\r\n    {\r\n        return !!value && (typeof value === 'object' || typeof value === 'function')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isObjectLike(value)\r\n    {\r\n        return !!value && typeof value === 'object'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPlainObject(value)\r\n    {\r\n        if (!this.isObjectLike(value) || Object.prototype.toString.call(value) !== '[object Object]')\r\n        {\r\n            return false\r\n        }\r\n\r\n        const proto = Object.getPrototypeOf(value)\r\n        if (proto === null)\r\n        {\r\n            return true\r\n        }\r\n\r\n        const ctor = proto.hasOwnProperty('constructor') && proto.constructor\r\n\r\n        return (\r\n            typeof ctor === 'function' &&\r\n            Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBoolean(value)\r\n    {\r\n        return value === true || value === false\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @param {array} trueValues\r\n     * @returns {boolean}\r\n     */\r\n    static toBoolean(value, trueValues = [])\r\n    {\r\n        const transformedValue = this.isString(value) ? value.toLowerCase() : value\r\n        return ['true', 'y', '1', 1, true, ...trueValues].includes(transformedValue)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNumber(value)\r\n    {\r\n        return typeof value === 'number' && !isNaN(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toNumber(value)\r\n    {\r\n        let parsedValue = parseFloat(value)\r\n        return this.isNumber(parsedValue) ? parsedValue : 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isInteger(value)\r\n    {\r\n        return this.isNumber(value) && (value % 1) === 0\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {number}\r\n     */\r\n    static toInteger(value)\r\n    {\r\n        return this.toNumber(parseInt(value, 10))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFloat(value)\r\n    {\r\n        return this.isNumber(value) && !this.isInteger(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {any} value\r\n     * @returns {number}\r\n     */\r\n    static toFloat(value)\r\n    {\r\n        return parseFloat(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNil(value)\r\n    {\r\n        return value === null || value === undefined\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isArray(value)\r\n    {\r\n        return !this.isNil(value) && Array.isArray(value)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDate(value)\r\n    {\r\n        return this.isObjectLike(value) && Object.prototype.toString.call(value) === '[object Date]'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isDomNode(value)\r\n    {\r\n        return this.isObjectLike(value) && !this.isPlainObject(value) && 'nodeType' in value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isPrototype(value)\r\n    {\r\n        return (\r\n            (((typeof (value && value.constructor) === 'function') && value.constructor.prototype) || Object.prototype) === value\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isNull(value)\r\n    {\r\n        return value === null\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isUndefined(value)\r\n    {\r\n        return typeof value === 'undefined'\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isBlob(value)\r\n    {\r\n        return (\r\n            this.isObjectLike(value)\r\n            && this.isNumber(value.size)\r\n            && this.isString(value.type)\r\n            && this.isFunction(value.slice)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFile(value)\r\n    {\r\n        return (\r\n            this.isBlob(value)\r\n            && this.isObjectLike(value.lastModifiedDate)\r\n            && this.isNumber(value.lastModified)\r\n            && this.isString(value.name)\r\n        )\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {*} value\r\n     * @returns {boolean}\r\n     */\r\n    static isFormData(value)\r\n    {\r\n        return value instanceof FormData\r\n    }\r\n}","import Type from './type'\n\nconst UA = navigator.userAgent.toLowerCase()\n\nexport default class Browser\n{\n\tstatic isOpera()\n\t{\n\t\treturn UA.includes('opera')\n\t}\n\n\tstatic isIE()\n\t{\n\t\treturn ('attachEvent' in document) && !Browser.isOpera()\n\t}\n\n\tstatic isIE6()\n\t{\n\t\treturn UA.includes('msie 6')\n\t}\n\n\tstatic isIE7()\n\t{\n\t\treturn UA.includes('msie 7')\n\t}\n\n\tstatic isIE8()\n\t{\n\t\treturn UA.includes('msie 8')\n\t}\n\n\tstatic isIE9()\n\t{\n\t\treturn ('documentMode' in document) && document.documentMode >= 9\n\t}\n\n\tstatic isIE10()\n\t{\n\t\treturn ('documentMode' in document) && document.documentMode >= 10\n\t}\n\n\tstatic isSafari()\n\t{\n\t\treturn UA.includes('webkit')\n\t}\n\n\tstatic isFirefox()\n\t{\n\t\treturn UA.includes('firefox')\n\t}\n\n\tstatic isChrome()\n\t{\n\t\treturn UA.includes('chrome')\n\t}\n\n\tstatic detectIEVersion()\n\t{\n\t\tif (Browser.isOpera() || Browser.isSafari() || Browser.isFirefox() || Browser.isChrome())\n\t\t{\n\t\t\treturn -1\n\t\t}\n\n\t\tlet rv = -1\n\n\t\tif (\n\t\t\t!!(window.MSStream)\n\t\t\t&& !(window.ActiveXObject)\n\t\t\t&& ('ActiveXObject' in window)\n\t\t)\n\t\t{\n\t\t\trv = 11\n\t\t}\n\t\telse if (Browser.isIE10())\n\t\t{\n\t\t\trv = 10\n\t\t}\n\t\telse if (Browser.isIE9())\n\t\t{\n\t\t\trv = 9\n\t\t}\n\t\telse if (Browser.isIE())\n\t\t{\n\t\t\trv = 8\n\t\t}\n\n\t\tif (rv === -1 || rv === 8)\n\t\t{\n\t\t\tif (navigator.appName === 'Microsoft Internet Explorer')\n\t\t\t{\n\t\t\t\tconst re = new RegExp('MSIE ([0-9]+[.0-9]*)')\n\t\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t\t{\n\t\t\t\t\trv = parseFloat(res[1])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (navigator.appName === 'Netscape')\n\t\t\t{\n\t\t\t\trv = 11\n\t\t\t\tconst re = new RegExp('Trident/.*rv:([0-9]+[.0-9]*)')\n\n\t\t\t\tif (re.exec(navigator.userAgent) != null)\n\t\t\t\t{\n\t\t\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\trv = parseFloat(res[1])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rv\n\t}\n\n\tstatic isIE11()\n\t{\n\t\treturn Browser.detectIEVersion() >= 11\n\t}\n\n\tstatic isMac()\n\t{\n\t\treturn UA.includes('macintosh')\n\t}\n\n\tstatic isAndroid()\n\t{\n\t\treturn UA.includes('android')\n\t}\n\n\tstatic isIPad()\n\t{\n\t\treturn UA.includes('ipad;')\n\t}\n\n\tstatic isIPhone()\n\t{\n\t\treturn UA.includes('iphone;')\n\t}\n\n\tstatic isIOS()\n\t{\n\t\treturn Browser.isIPad() || Browser.isIPhone()\n\t}\n\n\tstatic isMobile()\n\t{\n\t\treturn (\n\t\t\tBrowser.isIPhone()\n\t\t\t|| Browser.isIPad()\n\t\t\t|| Browser.isAndroid()\n\t\t\t|| UA.includes('mobile')\n\t\t\t|| UA.includes('touch')\n\t\t)\n\t}\n\n\tstatic isRetina()\n\t{\n\t\treturn window.devicePixelRatio && window.devicePixelRatio >= 2\n\t}\n\n\tstatic isDoctype(target)\n\t{\n\t\tconst doc = target || document\n\n\t\tif (doc.compatMode)\n\t\t{\n\t\t\treturn (doc.compatMode === 'CSS1Compat')\n\t\t}\n\n\t\treturn (doc.documentElement && doc.documentElement.clientHeight)\n\t}\n\n\tstatic isLocalStorageSupported()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.setItem('test', 'test')\n\t\t\tlocalStorage.removeItem('test')\n\t\t\treturn true\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\treturn false\n\t\t}\n\t}\n\n\n\tstatic detectAndroidVersion()\n\t{\n\t\tconst re = new RegExp('Android ([0-9]+[.0-9]*)')\n\n\t\tif (re.exec(navigator.userAgent) != null)\n\t\t{\n\t\t\tconst res = navigator.userAgent.match(re)\n\n\t\t\tif (Type.isArrayLike(res) && res.length > 0)\n\t\t\t{\n\t\t\t\treturn parseFloat(res[1])\n\t\t\t}\n\t\t}\n\n\t\treturn 0\n\t}\n\n\tstatic isPropertySupported(jsProperty, returnCSSName)\n\t{\n\t\tif (jsProperty === '')\n\t\t{\n\t\t\treturn false\n\t\t}\n\n\t\tfunction getCssName(propertyName)\n\t\t{\n\t\t\treturn propertyName.replace(/([A-Z])/g, (...args) => `-${args[1].toLowerCase()}`)\n\t\t}\n\n\t\tfunction getJsName(cssName)\n\t\t{\n\t\t\tconst reg = /(\\\\-([a-z]))/g\n\n\t\t\tif (reg.test(cssName))\n\t\t\t{\n\t\t\t\treturn cssName.replace(reg, (...args) => args[2].toUpperCase())\n\t\t\t}\n\n\t\t\treturn cssName\n\t\t}\n\n\t\tconst property = jsProperty.includes('-') ? getJsName(jsProperty) : jsProperty\n\t\tconst bReturnCSSName = !!returnCSSName\n\t\tconst ucProperty = property.charAt(0).toUpperCase() + property.slice(1)\n\t\tconst props = ['Webkit', 'Moz', 'O', 'ms'].join(`${ucProperty} `)\n\t\tconst properties = `${property} ${props} ${ucProperty}`.split(' ')\n\n\t\tconst obj = document.body || document.documentElement\n\n\t\tfor (let i = 0; i < properties.length; i += 1)\n\t\t{\n\t\t\tconst prop = properties[i]\n\n\t\t\tif (obj && 'style' in obj && prop in obj.style)\n\t\t\t{\n\t\t\t\tconst lowerProp = prop.substr(0, prop.length - property.length).toLowerCase()\n\t\t\t\tconst prefix = prop === property ? '' : `-${lowerProp}-`\n\t\t\t\treturn bReturnCSSName ? prefix + getCssName(property) : prop\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n}","import Type from './type'\r\n\r\nconst reEscape = /[&<>'\"]/g\r\n\r\nconst reUnescape = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g\r\n\r\nconst escapeEntities = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&#39;',\r\n    '\"': '&quot;',\r\n}\r\n\r\nconst unescapeEntities = {\r\n    '&amp;': '&',\r\n    '&#38;': '&',\r\n    '&lt;': '<',\r\n    '&#60;': '<',\r\n    '&gt;': '>',\r\n    '&#62;': '>',\r\n    '&apos;': \"'\",\r\n    '&#39;': \"'\",\r\n    '&quot;': '\"',\r\n    '&#34;': '\"',\r\n}\r\n\r\nexport default class Text\r\n{\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static encode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reEscape, item => escapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static decode(value)\r\n    {\r\n        if (Type.isString(value))\r\n        {\r\n            return value.replace(reUnescape, item => unescapeEntities[item])\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} length\r\n     * @returns {string}\r\n     */\r\n    static getRandom(length = 8)\r\n    {\r\n        return [...Array(length)].map(() => (~~(Math.random() * 36)).toString(36)).join('');\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toCamelCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const regex = /[-_\\s]+(.)?/g\r\n        if (!regex.test(str))\r\n        {\r\n            return str.match(/^[A-Z]+$/) ? str.toLowerCase() : str[0].toLowerCase() + str.slice(1)\r\n        }\r\n\r\n        str = str.toLowerCase()\r\n        str = str.replace(regex, function(match, letter) {\r\n            return letter ? letter.toUpperCase() : ''\r\n        });\r\n\r\n        return str[0].toLowerCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toPascalCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return this.capitalize(this.toCamelCase(str))\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static toKebabCase(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        const matches = str.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\r\n        if (!matches)\r\n        {\r\n            return str\r\n        }\r\n\r\n        return matches.map(x => x.toLowerCase()).join('-')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static capitalize(str)\r\n    {\r\n        if (Type.isEmpty(str))\r\n        {\r\n            return str\r\n        }\r\n\r\n        return str[0].toUpperCase() + str.substr(1)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} symbol\r\n     * @param {string} string\r\n     * @returns {boolean}\r\n     */\r\n    static isIn(symbol, string)\r\n    {\r\n        string = Type.toString(string)\r\n        return string.indexOf(Type.toString(symbol)) !== -1\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static trim(value)\r\n    {\r\n        if (Type.isString(value))\r\n            return value.trim()\r\n\r\n        return value\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {number} length\r\n     * @param {string} suffix\r\n     * @returns {string}\r\n     */\r\n    static truncate(string, length, suffix = \"...\")\r\n    {\r\n        string = Type.toString(string)\r\n        return string.length > length ? this.trim(string.substr(0, length)) + suffix : string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} tagStart\r\n     * @param {string} tagEnd\r\n     * @returns {string}\r\n     */\r\n    static replaceMacros(string, rules, tagStart = \"#\", tagEnd = \"#\")\r\n    {\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            let macros = {}\r\n\r\n            Object.keys(rules).forEach(key => {\r\n                macros[tagStart + key + tagEnd] = rules[key]\r\n            })\r\n\r\n            string = Text.replace(string, macros)\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} string\r\n     * @param {object} rules\r\n     * @param {string} flag\r\n     * @returns {string}\r\n     */\r\n    static replace(string, rules, flag = 'g')\r\n    {\r\n        string = Type.toString(string)\r\n\r\n        if (Type.isObjectLike(rules))\r\n        {\r\n            Object.keys(rules).forEach(key => {\r\n                string = string.replace(new RegExp(key, flag), rules[key])\r\n            })\r\n        }\r\n\r\n        return string\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static nl2br(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/([^>])\\n/g, '$1<br/>')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripTags(value)\r\n    {\r\n        if (!value || !value.split)\r\n            return value\r\n\r\n        return value.split(/<[^>]+>/g).join('')\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} value\r\n     * @returns {string}\r\n     */\r\n    static stripPhpTags(value)\r\n    {\r\n        if (!value || !value.replace)\r\n            return value\r\n\r\n        return value.replace(/<\\?(.|[\\r\\n])*?\\?>/g, '')\r\n    }\r\n}","import Type from \"./type\"\r\n\r\nexport default class Event\r\n{\r\n    constructor()\r\n    {\r\n        /**\r\n         * Наименование события. Обработчики могут использовать\r\n         * @type {string}\r\n         */\r\n        this.name = \"\"\r\n\r\n        /**\r\n         * Определяет, является ли событие обработанным. Когда установлено в `true`,\r\n         * @type {boolean}\r\n         */\r\n        this.handled = false\r\n\r\n        /**\r\n         * Данные, которые приходят из [[Event.on()]] когда прикрепляется обработчик события.\r\n         * @type {*}\r\n         */\r\n        this.data = {}\r\n\r\n        /**\r\n         * Содержит все зарегистрированные события.\r\n         * @type {WeakMap}\r\n         */\r\n        this.events = new WeakMap()\r\n    }\r\n\r\n    /**\r\n     * Получает массив событий из WeakMap\r\n     * @param {Object} eventObject\r\n     * @returns {Object}\r\n     */\r\n    _get(eventObject)\r\n    {\r\n        return this.events.get(eventObject) || {}\r\n    }\r\n\r\n    /**\r\n     * Прикрепляет обработчик события к объекту.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|null} eventHandler\r\n     * @param {*} data\r\n     * @param {boolean|null} append\r\n     */\r\n    on(eventObject, eventName, eventHandler, data = null, append = true)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            append = Type.isNull(data) ? true : data\r\n            data = eventHandler || null\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (\r\n            !Type.isFunction(eventHandler) ||\r\n            Type.isEmpty(eventName) ||\r\n            !Type.isObject(eventObject)\r\n        )\r\n            return\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (!Type.isArray(events[eventName]))\r\n            events[eventName] = []\r\n\r\n        if (!!append)\r\n            events[eventName].push([eventHandler, data])\r\n        else\r\n            events[eventName].unshift([eventHandler, data])\r\n\r\n        this.events.set(eventObject, events)\r\n    }\r\n\r\n    /**\r\n     * Открепляет обработчик события от объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Function} eventName\r\n     * @param {Function|undefined} eventHandler\r\n     * @returns {boolean}\r\n     */\r\n    off(eventObject, eventName, eventHandler)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            eventHandler = eventName\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let events = this._get(eventObject)\r\n\r\n        if (Type.isNull(eventHandler))\r\n        {\r\n            delete events[eventName]\r\n            return true\r\n        }\r\n\r\n        let removed = false\r\n\r\n        if (events && Type.isArray(events[eventName]))\r\n        {\r\n            events[eventName].forEach(function (event, i) {\r\n                if (event[0] === eventHandler)\r\n                {\r\n                    events[eventName].splice(i, 1)\r\n                    removed = true\r\n                }\r\n            })\r\n        }\r\n\r\n        return removed\r\n    }\r\n\r\n    /**\r\n     * Вызывает событие объекта.\r\n     * @param {Object|string} eventObject\r\n     * @param {string|Object} eventName\r\n     * @param {Array|null} eventParams\r\n     * @param {Event} event\r\n     */\r\n    trigger(eventObject, eventName, eventParams = null, event = null)\r\n    {\r\n        if (Type.isString(eventObject))\r\n        {\r\n            event = eventParams || null\r\n            eventParams = eventName || []\r\n            eventName = eventObject\r\n            eventObject = window\r\n        }\r\n\r\n        if (eventParams === null)\r\n            eventParams = []\r\n\r\n        eventName = eventName.toLowerCase()\r\n\r\n        let globalEvents = this._get(window)\r\n        let globalHandlers = globalEvents && Type.isArray(globalEvents[eventName]) ? globalEvents[eventName] : []\r\n        let objectHandlers = []\r\n\r\n        if (eventObject !== window && Type.isObject(eventObject))\r\n        {\r\n            let objectEvents = this._get(eventObject)\r\n            if (objectEvents && Type.isArray(objectEvents[eventName]))\r\n            {\r\n                objectHandlers = objectEvents[eventName]\r\n            }\r\n        }\r\n\r\n        let handlers = globalHandlers.concat(objectHandlers)\r\n\r\n        if (event === null)\r\n            event = new Event()\r\n\r\n        event.handled = false\r\n        event.name = eventName\r\n\r\n        for (let i = 0; i <= handlers.length - 1; i++)\r\n        {\r\n            let handler = handlers[i]\r\n\r\n            event.data = handler[1]\r\n\r\n            if (eventParams.indexOf(event) < 0)\r\n                eventParams.unshift(event)\r\n\r\n            if (Type.isFunction(handler[0]))\r\n                handler[0].apply(eventObject, eventParams)\r\n\r\n            if (event.handled)\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n}","import Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Event from './lib/event'\r\nimport Text from './lib/text'\r\n\r\nexport const type = {\r\n    ...Object.getOwnPropertyNames(Type)\r\n        .filter(key => !['name', 'length', 'prototype', 'caller', 'arguments'].includes(key))\r\n        .reduce((acc, key) => {\r\n            acc[key] = Type[key]\r\n            return acc\r\n        }, {}),\r\n    isNotEmptyString: value => Type.isString(value) && value !== '',\r\n    isNotEmptyObject: value => Type.isObjectLike(value) && Object.keys(value).length > 0,\r\n    isMapKey: Type.isObject,\r\n    stringToInt: (value) => {\r\n        const parsed = parseInt(value)\r\n        return !Number.isNaN(parsed) ? parsed : 0\r\n    },\r\n}\r\n\r\nexport const browser = {\r\n    IsOpera: Browser.isOpera,\r\n    IsIE: Browser.isIE,\r\n    IsIE6: Browser.isIE6,\r\n    IsIE7: Browser.isIE7,\r\n    IsIE8: Browser.isIE8,\r\n    IsIE9: Browser.isIE9,\r\n    IsIE10: Browser.isIE10,\r\n    IsIE11: Browser.isIE11,\r\n    IsSafari: Browser.isSafari,\r\n    IsFirefox: Browser.isFirefox,\r\n    IsChrome: Browser.isChrome,\r\n    DetectIeVersion: Browser.detectIEVersion,\r\n    IsMac: Browser.isMac,\r\n    IsAndroid: Browser.isAndroid,\r\n    isIPad: Browser.isIPad,\r\n    isIPhone: Browser.isIPhone,\r\n    IsIOS: Browser.isIOS,\r\n    IsMobile: Browser.isMobile,\r\n    isRetina: Browser.isRetina,\r\n    IsDoctype: Browser.isDoctype,\r\n    SupportLocalStorage: Browser.isLocalStorageSupported,\r\n    addGlobalClass: Browser.addGlobalClass,\r\n    DetectAndroidVersion: Browser.detectAndroidVersion,\r\n    isPropertySupported: Browser.isPropertySupported,\r\n    addGlobalFeatures: Browser.addGlobalFeatures,\r\n}\r\n\r\nexport const event = new Event()\r\n\r\nexport const {\r\n    on,\r\n    off,\r\n    trigger,\r\n} = event\r\n\r\nexport const {\r\n    getRandom,\r\n    replaceMacros,\r\n} = Text","import './internal/b'\r\n\r\nimport Type from './lib/type'\r\nimport Browser from './lib/browser'\r\nimport Text from './lib/text'\r\n\r\nexport {\r\n    Type,\r\n    Browser,\r\n    Text\r\n}\r\n\r\nexport * from './libs'\r\n\r\nif (global && global.window && global.window.B)\r\n{\r\n    Object.assign(global.window.B, exports)\r\n}",null]}